<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Uniform Resource Identifier (URI): Generic Syntax</title>
<style type="text/css">
a
{
  text-decoration: none
}
a:hover
{
  text-decoration: underline
}
a:active
{
  text-decoration: underline
}
body
{
  color: #000000;
  font-family: helvetica, arial, sans-serif;
  font-size: 13px;
}
h1
{
  color: #333333;
  font-size: 16px;
  line-height: 16px;
  font-family: helvetica, arial, sans-serif;
  page-break-after: avoid;
}
h2
{
  color: #000000;
  font-size: 14px;
  font-family: helvetica, arial, sans-serif;
  page-break-after: avoid;
}
h3
{
  color: #000000;
  font-size: 13px;
  font-family: helvetica, arial, sans-serif;
  page-break-after: avoid;
}
p
{
  margin-left: 2em;
  margin-right: 2em;
}
pre
{
  margin-left: 3em;
  background-color: lightyellow;
}
table
{
  font-size: 13px
}
td.header
{
  color: #ffffff;
  font-size: 10px;
  font-family: arial, helvetica, sans-serif;
  valign: top
}
.editingmark
{
  background-color: khaki;
}
.hotText
{
  color:#ffffff;
  font-weight: normal;
  text-decoration: none;
  font-family: chelvetica, arial, sans-serif;
  font-size: 9px
}
.link2
{
  color:#ffffff;
  font-weight: bold;
  text-decoration: none;
  font-family: helvetica, arial, sans-serif;
  font-size: 9px
}
.toowide
{
  color: red;
  font-weight: bold;
}
.RFC
{
  color:#666666;
  font-weight: bold;
  text-decoration: none;
  font-family: helvetica, arial, sans-serif;
  font-size: 9px
}
.title
{
  color: #990000;
  font-size: 22px;
  line-height: 22px;
  font-weight: bold;
  text-align: right;
  font-family: helvetica, arial, sans-serif
}
.figure
{
  font-weight: bold;
  text-align: center;
  font-size: 9x;
}
.filename
{
  color: #333333;
  font-weight: bold;
  font-size: 16px;
  line-height: 24px;
  font-family: helvetica, arial, sans-serif;
}

del
{
  color: red;
}

ins
{
  color: blue;
}

@media print {
         .noprint {display:none}
}
</style>
</head>
<body>
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="30" width="30" valign="center" align="center" bgcolor="#000000"><b><span class="RFC">&nbsp;RFC&nbsp;</span></b>
<br>
<span class="hotText"></span></td>
</tr>
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<table cellspacing="1" cellpadding="1" border="0" width="66%">
<tr>
<td class="header" bgcolor="#666666" width="33%">Network Working Group&nbsp;</td><td class="header" bgcolor="#666666" width="33%">T. Berners-Lee&nbsp;</td>
</tr>
<tr>
<td class="header" bgcolor="#666666" width="33%">INTERNET DRAFT&nbsp;</td><td class="header" bgcolor="#666666" width="33%">MIT/LCS&nbsp;</td>
</tr>
<tr>
<td class="header" bgcolor="#666666" width="33%">
        &lt;draft-fielding-uri-rfc2396bis-01&gt;
      &nbsp;</td><td class="header" bgcolor="#666666" width="33%">R. Fielding&nbsp;</td>
</tr>
<tr>
<td class="header" bgcolor="#666666" width="33%">
        Obsoletes: <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=rcf2629.xslt" href="http://www.ietf.org/rfc/rfc2732.txt">2732</a>,
          <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=rcf2629.xslt" href="http://www.ietf.org/rfc/rfc2396.txt">2396</a>,
          <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=rcf2629.xslt" href="http://www.ietf.org/rfc/rfc1808.txt">1808</a>&nbsp;</td><td class="header" bgcolor="#666666" width="33%">Day Software&nbsp;</td>
</tr>
<tr>
<td class="header" bgcolor="#666666" width="33%">
          Updates: <a xmlns:myns="mailto:julian.reschke@greenbytes.de?subject=rcf2629.xslt" href="http://www.ietf.org/rfc/rfc1738.txt">1738</a>&nbsp;</td><td class="header" bgcolor="#666666" width="33%">L. Masinter&nbsp;</td>
</tr>
<tr>
<td class="header" bgcolor="#666666" width="33%">
         Category:
        Standards Track&nbsp;</td><td class="header" bgcolor="#666666" width="33%">Adobe&nbsp;</td>
</tr>
<tr>
<td class="header" bgcolor="#666666" width="33%">Expires: September 2003&nbsp;</td><td class="header" bgcolor="#666666" width="33%">March 2003&nbsp;</td>
</tr>
</table>
<br>
<div align="right">
<span class="title">Uniform Resource Identifier (URI): Generic Syntax</span>
</div>
<div align="right">
<span class="filename">draft-fielding-uri-rfc2396bis-01</span>
</div>
<h1>Status of this Memo</h1>
<p>
<a name="rfc.section.1.p.1"></a>
        This document is an Internet-Draft and is 
        
            in full conformance with all provisions of Section 10 of RFC2026.    
            

        Internet-Drafts are working documents of the Internet Engineering
        Task Force (IETF), its areas, and its working groups.
        Note that other groups may also distribute working documents as
        Internet-Drafts.
      </p>
<p>
<a name="rfc.section.1.p.2"></a>
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any time.
        It is inappropriate to use Internet-Drafts as reference material or to cite
        them other than as "work in progress".
      </p>
<p>
<a name="rfc.section.1.p.3"></a>
        The list of current Internet-Drafts can be accessed at
        <a href="http://www.ietf.org/ietf/1id-abstracts.txt">http://www.ietf.org/ietf/1id-abstracts.txt</a>.
      </p>
<p>
<a name="rfc.section.1.p.4"></a>
        The list of Internet-Draft Shadow Directories can be accessed at
        <a href="http://www.ietf.org/shadow.html">http://www.ietf.org/shadow.html</a>.
      </p>
<p>
<a name="rfc.section.1.p.5"></a>
        This Internet-Draft will expire in September 2003.
      </p>
<h1>Copyright Notice</h1>
<p>
<a name="rfc.section.2.p.1"></a>
    Copyright (C) The Internet Society (2003). All Rights Reserved.
  </p>
<h1>Abstract</h1>

<p>
A Uniform Resource Identifier (URI) is a compact string of characters
for identifying an abstract or physical resource.  This document
defines the generic syntax of a URI, including both absolute and
relative forms, and guidelines for their use.
</p>

<p>
This document defines a grammar that is a superset of all valid URIs,
such that an implementation can parse the common components of a URI
reference without knowing the scheme-specific requirements of every
possible identifier type.  This document does not define a generative
grammar for all URIs; that task will be performed by the individual
specifications of each URI scheme.
</p>
<h1>Editorial Note</h1>

<p>
Discussion of this draft and comments to the editors should be sent
to the uri@w3.org mailing list.  An issues list and version history
is available at &lt;http://www.apache.org/~fielding/uri/rev-2002/&gt;.
</p>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="30" width="30" valign="center" align="center" bgcolor="#000000"><b><span class="RFC">&nbsp;RFC&nbsp;</span></b>
<br>
<span class="hotText"></span></td>
</tr>
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.toc">Table of Contents</a>
</h1>
<p>

<b>1&nbsp;
            <a href="#rfc.section.1">Introduction</a></b>
<br>





<b>&nbsp;1.1&nbsp;
            <a href="#rfc.section.1.1">Overview of URIs</a></b>
<br>


        





<b>&nbsp;1.2&nbsp;
            <a href="#rfc.section.1.2">URI, URL, and URN</a></b>
<br>








<b>&nbsp;1.3&nbsp;
            <a href="#rfc.section.1.3">Example URIs</a></b>
<br>




<b>&nbsp;1.4&nbsp;
            <a href="#rfc.section.1.4">Hierarchical URIs and Relative Forms</a></b>
<br>





<b>&nbsp;1.5&nbsp;
            <a href="#rfc.section.1.5">URI Transcribability</a></b>
<br>







<b>&nbsp;1.6&nbsp;
            <a href="#rfc.section.1.6">Syntax Notation and Common Elements</a></b>
<br>









<b>2&nbsp;
            <a href="#rfc.section.2">URI Characters and Escape Sequences</a></b>
<br>





<b>&nbsp;2.1&nbsp;
            <a href="#rfc.section.2.1">URIs and non-ASCII characters</a></b>
<br>











<b>&nbsp;2.2&nbsp;
            <a href="#rfc.section.2.2">Reserved Characters</a></b>
<br>






<b>&nbsp;2.3&nbsp;
            <a href="#rfc.section.2.3">Unreserved Characters</a></b>
<br>





<b>&nbsp;2.4&nbsp;
            <a href="#rfc.section.2.4">Escape Sequences</a></b>
<br>



<b>&nbsp;&nbsp;2.4.1&nbsp;
            <a href="#rfc.section.2.4.1">Escaped Encoding</a></b>
<br>




<b>&nbsp;&nbsp;2.4.2&nbsp;
            <a href="#rfc.section.2.4.2">When to Escape and Unescape</a></b>
<br>






<b>&nbsp;&nbsp;2.4.3&nbsp;
            <a href="#rfc.section.2.4.3">Excluded US-ASCII Characters</a></b>
<br>











<b>3&nbsp;
            <a href="#rfc.section.3">URI Syntactic Components</a></b>
<br>














<b>&nbsp;3.1&nbsp;
            <a href="#rfc.section.3.1">Scheme Component</a></b>
<br>







<b>&nbsp;3.2&nbsp;
            <a href="#rfc.section.3.2">Authority Component</a></b>
<br>





<b>&nbsp;&nbsp;3.2.1&nbsp;
            <a href="#rfc.section.3.2.1">Registry-based Naming Authority</a></b>
<br>




<b>&nbsp;&nbsp;3.2.2&nbsp;
            <a href="#rfc.section.3.2.2">Server-based Naming Authority</a></b>
<br>

















<b>&nbsp;3.3&nbsp;
            <a href="#rfc.section.3.3">Path Component</a></b>
<br>





<b>&nbsp;3.4&nbsp;
            <a href="#rfc.section.3.4">Query Component</a></b>
<br>






<b>4&nbsp;
            <a href="#rfc.section.4">URI References</a></b>
<br>





<b>&nbsp;4.1&nbsp;
            <a href="#rfc.section.4.1">Fragment Identifier</a></b>
<br>






<b>&nbsp;4.2&nbsp;
            <a href="#rfc.section.4.2">Same-document References</a></b>
<br>




<b>&nbsp;4.3&nbsp;
            <a href="#rfc.section.4.3">Parsing a URI Reference</a></b>
<br>







<b>5&nbsp;
            <a href="#rfc.section.5">Relative URI References</a></b>
<br>













<b>&nbsp;5.1&nbsp;
            <a href="#rfc.section.5.1">Establishing a Base URI</a></b>
<br>





<b>&nbsp;&nbsp;5.1.1&nbsp;
            <a href="#rfc.section.5.1.1">Base URI within Document Content</a></b>
<br>






<b>&nbsp;&nbsp;5.1.2&nbsp;
            <a href="#rfc.section.5.1.2">Base URI from the Encapsulating Entity</a></b>
<br>




<b>&nbsp;&nbsp;5.1.3&nbsp;
            <a href="#rfc.section.5.1.3">Base URI from the Retrieval URI</a></b>
<br>




<b>&nbsp;&nbsp;5.1.4&nbsp;
            <a href="#rfc.section.5.1.4">Default Base URI</a></b>
<br>






<b>&nbsp;5.2&nbsp;
            <a href="#rfc.section.5.2">Resolving Relative References to Absolute Form</a></b>
<br>











<b>6&nbsp;
            <a href="#rfc.section.6">URI Normalization and Comparison</a></b>
<br>


  
<b>&nbsp;6.1&nbsp;
            <a href="#rfc.section.6.1">URI Equivalence</a></b>
<br>
  
  
  
  
  
<b>&nbsp;6.2&nbsp;
            <a href="#rfc.section.6.2">Comparison Ladder</a></b>
<br>
  
  
    
<b>&nbsp;&nbsp;6.2.1&nbsp;
            <a href="#rfc.section.6.2.1">Simple String Comparison</a></b>
<br>
    
    
    
    
    
    
<b>&nbsp;&nbsp;6.2.2&nbsp;
            <a href="#rfc.section.6.2.2">Syntax-based Normalization</a></b>
<br>

      
<b>&nbsp;&nbsp;&nbsp;6.2.2.1&nbsp;
            <a href="#rfc.section.6.2.2.1">Case Normalization</a></b>
<br>
      
      
      
<b>&nbsp;&nbsp;&nbsp;6.2.2.2&nbsp;
            <a href="#rfc.section.6.2.2.2">Escape Normalization</a></b>
<br>
      
      
      
      
<b>&nbsp;&nbsp;&nbsp;6.2.2.3&nbsp;
            <a href="#rfc.section.6.2.2.3">Path Segment Normalization</a></b>
<br>
      
      
    
    
<b>&nbsp;&nbsp;6.2.3&nbsp;
            <a href="#rfc.section.6.2.3">Scheme-based Normalization</a></b>
<br>

    
    
<b>&nbsp;&nbsp;6.2.4&nbsp;
            <a href="#rfc.section.6.2.4">Protocol-based Normalization</a></b>
<br>


    
  
  
<b>&nbsp;6.3&nbsp;
            <a href="#rfc.section.6.3">Good Practice When Using URIs</a></b>
<br>
  
  
  



<b>7&nbsp;
            <a href="#rfc.section.7">Security Considerations</a></b>
<br>


<b>&nbsp;7.1&nbsp;
            <a href="#rfc.section.7.1">Reliability and Consistency</a></b>
<br>



<b>&nbsp;7.2&nbsp;
            <a href="#rfc.section.7.2">Malicious Construction</a></b>
<br>





<b>&nbsp;7.3&nbsp;
            <a href="#rfc.section.7.3">Rare IP Address Formats</a></b>
<br>





<b>&nbsp;7.4&nbsp;
            <a href="#rfc.section.7.4">Sensitive Information</a></b>
<br>



<b>&nbsp;7.5&nbsp;
            <a href="#rfc.section.7.5">Semantic Attacks</a></b>
<br>






<b>8&nbsp;
            <a href="#rfc.section.8">Acknowledgements</a></b>
<br>



<b>&sect;&nbsp;
            <a href="#rfc.normative_references">Normative References</a></b>
<br>
<b>&sect;&nbsp;
            <a href="#rfc.non-normative_references">Non-normative References</a></b>
<br>
<b>&sect;&nbsp;
            <a href="#rfc.authors">Author's Addresses</a></b>
<br>
<b>A&nbsp;
            <a href="#rfc.section.A">Collected BNF for URI</a></b>
<br>


<b>B&nbsp;
            <a href="#rfc.section.B">Parsing a URI Reference with a Regular Expression</a></b>
<br>











<b>C&nbsp;
            <a href="#rfc.section.C">Examples of Resolving Relative URI References</a></b>
<br>





<b>&nbsp;C.1&nbsp;
            <a href="#rfc.section.C.1">Normal Examples</a></b>
<br>




<b>&nbsp;C.2&nbsp;
            <a href="#rfc.section.C.2">Abnormal Examples</a></b>
<br>

















<b>D&nbsp;
            <a href="#rfc.section.D">Embedding the Base URI in HTML documents</a></b>
<br>







<b>E&nbsp;
            <a href="#rfc.section.E">Recommendations for Delimiting URI in Context</a></b>
<br>














<b>F&nbsp;
            <a href="#rfc.section.F">Abbreviated URIs</a></b>
<br>





<b>G&nbsp;
            <a href="#rfc.section.G">Summary of Non-editorial Changes</a></b>
<br>


<b>&nbsp;G.1&nbsp;
            <a href="#rfc.section.G.1">Additions</a></b>
<br>






<b>&nbsp;G.2&nbsp;
            <a href="#rfc.section.G.2">Modifications from RFC 2396</a></b>
<br>






<b>&sect;&nbsp;
            <a href="#rfc.copyright">Full Copyright Statement</a></b>
<br>
<b>&sect;&nbsp;
            <a href="#rfc.index">Index</a></b>
<br>
</p>

<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.1">1</a>&nbsp;
    Introduction</h1>
<p>
<a name="rfc.section.1.p.1"></a>
A Uniform Resource Identifier (URI) provides a simple and extensible
means for identifying a resource.  This specification of URI syntax
and semantics is derived from concepts introduced by the World Wide
Web global information initiative, whose use of such objects dates
from 1990 and is described in "Universal Resource Identifiers in WWW"
<a href="#RFC1630" title="Universal Resource Identifiers in WWW: A Unifying Syntax for the Expression of Names and Addresses of Objects on the Network as used in the World-Wide Web">[RFC1630]</a>, and is designed to meet the
recommendations laid out in "Functional Recommendations for Internet
Resource Locators" <a href="#RFC1736" title="Functional Recommendations for Internet Resource Locators">[RFC1736]</a> and "Functional Requirements
for Uniform Resource Names" <a href="#RFC1737" title="Functional Requirements for Uniform Resource Names">[RFC1737]</a>.
</p>
<p>
<a name="rfc.section.1.p.2"></a>
This document obsoletes <a href="#RFC2396" title="Uniform Resource Identifiers (URI): Generic Syntax">[RFC2396]</a>, which merged
"Uniform Resource Locators" <a href="#RFC1738" title="Uniform Resource Locators (URL)">[RFC1738]</a> and
"Relative Uniform Resource Locators" <a href="#RFC1808" title="Relative Uniform Resource Locators">[RFC1808]</a> in order
to define a single, generic syntax for all URIs.  It excludes those
portions of RFC 1738 that defined the specific syntax of individual
URI schemes; those portions will be updated as separate documents.
The process for registration of new URI schemes is defined separately
by <a href="#RFC2717" title="Registration Procedures for URL Scheme Names">[RFC2717]</a>.
</p>
<p>
<a name="rfc.section.1.p.3"></a>
All significant changes from RFC 2396 are noted in Appendix G.
</p>
<h2>
<a name="rfc.section.1.1">1.1</a>&nbsp;
    Overview of URIs</h2>
<p>
<a name="rfc.section.1.1.p.1"></a>
URIs are characterized by the following definitions:
</p>
<p>
<a name="rfc.section.1.1.p.2"></a>Uniform
  <blockquote>
    
<p>
         Uniformity provides several benefits: it allows different types
         of resource identifiers to be used in the same context, even
         when the mechanisms used to access those resources may differ;
         it allows uniform semantic interpretation of common syntactic
         conventions across different types of resource identifiers; it
         allows introduction of new types of resource identifiers
         without interfering with the way that existing identifiers are
         used; and, it allows the identifiers to be reused in many
         different contexts, thus permitting new applications or
         protocols to leverage a pre-existing, large, and widely-used
         set of resource identifiers.
    </p>
  
</blockquote>

</p>
<p>
<a name="rfc.section.1.1.p.3"></a>Resource
  <blockquote>
    
<p>
         A resource can be anything that has identity.  Familiar
         examples include an electronic document, an image, a service
         (e.g., "today's weather report for Los Angeles"), and a
         collection of other resources.  Not all resources are network
         "retrievable"; e.g., human beings, corporations, and bound
         books in a library can also be considered resources.
        </p>
        
<p>
         The resource is the conceptual mapping to an entity or set of
         entities, not necessarily the entity which corresponds to that
         mapping at any particular instance in time.  Thus, a resource
         can remain constant even when its content---the entities to
         which it currently corresponds---changes over time, provided
         that the conceptual mapping is not changed in the process.
        </p>
  
</blockquote>

</p>
<p>
<a name="rfc.section.1.1.p.4"></a>Identifier
  <blockquote>
    
<p>
         An identifier is an object that can act as a reference to
         something that has identity.  In the case of a URI, the object is
         a sequence of characters with a restricted syntax.
    </p>
  
</blockquote>

</p>
<p>
<a name="rfc.section.1.1.p.5"></a>
Having identified a resource, a system may perform a variety of
operations on the resource, as might be characterized by such words
as `access', `update', `replace', or `find attributes'.
</p>
<h2>
<a name="rfc.section.1.2">1.2</a>&nbsp;
    URI, URL, and URN</h2>
<p>
<a name="rfc.section.1.2.p.1"></a>
   A URI can be further classified as a locator, a name, or both.  The
   term "Uniform Resource Locator" (URL) refers to the subset of URIs
   that, in addition to identifying the resource, provide a means of
   locating the resource by describing its primary access mechanism
   (e.g., its network "location").  The term "Uniform Resource Name" (URN)
   refers to the subset of URIs that are required to remain globally unique and
   persistent even when the resource ceases to exist or becomes unavailable.
</p>
<p>
<a name="rfc.section.1.2.p.2"></a>
   An individual scheme does not need to be cast into one of a discrete
   set of URI types such as "URL", "URN", "URC", etc.  Any given URI
   scheme may define subspaces that have the characteristics of a name,
   a locator, or both, often depending on the persistence and care in
   the assignment of identifiers by the naming authority, rather than on
   any quality of the URI scheme.  For that reason, this specification
   deprecates use of the terms URL or URN to distinguish between
   schemes, instead using the term URI throughout.
</p>
<p>
<a name="rfc.section.1.2.p.3"></a>
   Each URI scheme (Section 3.1) defines the namespace of the URI, and
   thus may further restrict the syntax and semantics of identifiers
   using that scheme.  This specification defines those elements of the
   URI syntax that are either required of all URI schemes or are common
   to many URI schemes.  It thus defines the syntax and semantics that
   are needed to implement a scheme-independent parsing mechanism for
   URI references, such that the scheme-dependent handling of a URI can
   be postponed until the scheme-dependent semantics are needed.
</p>
<p>
<a name="rfc.section.1.2.p.4"></a>
   Although many URI schemes are named after protocols, this does not
   imply that use of such a URI will result in access to the resource
   via the named protocol.  URIs are often used in contexts that are
   purely for identification, just like any other identifier.  Even when
   a URI is used to obtain a representation of a resource, that access
   might be through gateways, proxies, caches, and name resolution
   services that are independent of the protocol of the resource origin,
   and the resolution of some URIs may require the use of more than one
   protocol (e.g., both DNS and HTTP are typically used to access an
   "http" URI's resource when it can't be found in a local cache).
</p>
<p>
<a name="rfc.section.1.2.p.5"></a>
   A parser of the generic URI syntax is capable of parsing any URI
   reference into its major components; once the scheme is determined,
   further scheme-specific parsing can be performed on the components.
   In other words, the URI generic syntax is a superset of the syntax
   of all URI schemes.
</p>
<h2>
<a name="rfc.section.1.3">1.3</a>&nbsp;
    Example URIs</h2>
<a name="rfc.figure.u.1"></a>
<p>
The following examples illustrate URIs that are in common use.
</p>
<pre>   ftp://ftp.is.co.za/rfc/rfc1808.txt
      -- ftp scheme for File Transfer Protocol services

   gopher://gopher.tc.umn.edu:70/11/Mailing%20Lists/
      -- gopher scheme for Gopher and Gopher+ Protocol services

   http://www.ietf.org/rfc/rfc2396.txt
      -- http scheme for Hypertext Transfer Protocol services

   mailto:John.Doe@example.com
      -- mailto scheme for electronic mail addresses

   news:comp.infosystems.www.servers.unix
      -- news scheme for USENET news groups and articles

   telnet://melvyl.ucop.edu/
      -- telnet scheme for interactive TELNET services
</pre>
<h2>
<a name="rfc.section.1.4">1.4</a>&nbsp;
    Hierarchical URIs and Relative Forms</h2>
<p>
<a name="rfc.section.1.4.p.1"></a>
   An absolute identifier refers to a resource independent of the
   context in which the identifier is used.  In contrast, a relative
   identifier refers to a resource by describing the difference within a
   hierarchical namespace between the current context and an absolute
   identifier of the resource.
</p>
<p>
<a name="rfc.section.1.4.p.2"></a>
   Some URI schemes support a hierarchical naming system, where the
   hierarchy of the name is denoted by a "/" delimiter separating the
   components in the scheme. This document defines a scheme-independent
   `relative' form of URI reference that can be used in conjunction with
   a `base' URI of a hierarchical scheme to produce the `absolute' URI
   form of the reference. The syntax of a hierarchical URI is described
   in Section 3; the relative URI calculation is described in Section 5.
</p>
<h2>
<a name="rfc.section.1.5">1.5</a>&nbsp;
    URI Transcribability</h2>
<p>
<a name="rfc.section.1.5.p.1"></a>
   The URI syntax was designed with global transcribability as one of
   its main concerns. A URI is a sequence of characters from a very
   limited set, i.e. the letters of the basic Latin alphabet, digits,
   and a few special characters.  A URI may be represented in a variety
   of ways: e.g., ink on paper, pixels on a screen, or a sequence of
   octets in a coded character set.  The interpretation of a URI depends
   only on the characters used and not how those characters are
   represented in a network protocol.
</p>
<p>
<a name="rfc.section.1.5.p.2"></a>
   The goal of transcribability can be described by a simple scenario.
   Imagine two colleagues, Sam and Kim, sitting in a pub at an
   international conference and exchanging research ideas.  Sam asks Kim
   for a location to get more information, so Kim writes the URI for the
   research site on a napkin.  Upon returning home, Sam takes out the
   napkin and types the URI into a computer, which then retrieves the
   information to which Kim referred.
</p>
<p>
<a name="rfc.section.1.5.p.3"></a>
   There are several design concerns revealed by the scenario:
  <ul class="text">
    
<li>
         A URI is a sequence of characters, which is not always
         represented as a sequence of octets.
    </li>
    
<li>
         A URI may be transcribed from a non-network source, and thus
         should consist of characters that are most likely to be able to
         be typed into a computer, within the constraints imposed by
         keyboards (and related input devices) across languages and
         locales.
    </li>
    
<li>
         A URI often needs to be remembered by people, and it is easier
         for people to remember a URI when it consists of meaningful
         components.
    </li>
  
</ul>

</p>
<p>
<a name="rfc.section.1.5.p.4"></a>
   These design concerns are not always in alignment.  For example, it
   is often the case that the most meaningful name for a URI component
   would require characters that cannot be typed into some systems.  The
   ability to transcribe the resource identifier from one medium to
   another was considered more important than having its URI consist of
   the most meaningful of components.  In local and regional contexts
   and with improving technology, users might benefit from being able to
   use a wider range of characters; such use is not defined in this
   document.
</p>
<h2>
<a name="rfc.section.1.6">1.6</a>&nbsp;
    Syntax Notation and Common Elements</h2>
<p>
<a name="rfc.section.1.6.p.1"></a>
   This document uses two conventions to describe and define the syntax
   for URI.  The first, called the layout form, is a general description
   of the order of components and component separators, as in
</p>
<a name="rfc.figure.u.2"></a>
<pre>    &lt;first&gt;/&lt;second&gt;;&lt;third&gt;?&lt;fourth&gt;
</pre>
<p>
<a name="rfc.section.1.6.p.3"></a>
   The component names are enclosed in angle-brackets and any characters
   outside angle-brackets are literal separators.  Whitespace should be
   ignored.  These descriptions are used informally and do not define
   the syntax requirements.
</p>
<p>
<a name="rfc.section.1.6.p.4"></a>
   The second convention is a formal grammar defined using the
   Augmented Backus-Naur Form (ABNF) notation of <a href="#RFC2234" title="Augmented BNF for Syntax Specifications: ABNF">[RFC2234]</a>.
   Although the ABNF defines syntax in terms of the ASCII character
   encoding <a href="#ASCII" title="Coded Character Set -- 7-bit American Standard Code for Information Interchange">[ASCII]</a>, the URI syntax should be interpreted
   in terms of the character that the ASCII-encoded octet represents,
   rather than the octet encoding itself.  How a URI is represented
   in terms of bits and bytes on the wire is dependent upon
   the character encoding of the protocol used to transport it, or the
   charset of the document that contains it.
</p>
<p>
<a name="rfc.section.1.6.p.5"></a>
   The complete URI syntax is collected in Appendix A.
</p>


<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.iref.1"></a><a name="rfc.section.2">2</a>&nbsp;
    URI Characters and Escape Sequences</h1>
<a name="rfc.figure.u.3"></a>
<p>
   A URI consists of a restricted set of characters, primarily chosen to
   aid transcribability and usability both in computer systems and in
   non-computer communications. Characters used conventionally as
   delimiters around a URI are excluded.  The restricted set of
   characters consists of digits, letters, and a few graphic symbols
   chosen from those common to most of the character encodings and
   input facilities available to Internet users.
<a name="rfc.iref.2"></a>

</p>
<pre>   uric          = reserved / unreserved / escaped
</pre>
<p>
<a name="rfc.section.2.p.2"></a>
   Within a URI, characters are either used as delimiters or to
   represent strings of data (octets) within the delimited portions.
   Octets are either represented directly by a character (using the US-ASCII
   character for that octet <a href="#ASCII" title="Coded Character Set -- 7-bit American Standard Code for Information Interchange">[ASCII]</a>) or by an escape encoding.
   This representation is elaborated below.
</p>
<h2>
<a name="rfc.section.2.1">2.1</a>&nbsp;
    URIs and non-ASCII characters</h2>
<p>
<a name="rfc.section.2.1.p.1"></a>
   The relationship between URIs and characters has been a source of
   confusion for characters that are not part of US-ASCII. To describe
   the relationship, it is useful to distinguish between a "character"
   (as a distinguishable semantic entity) and an "octet" (an 8-bit
   byte). There are two mappings, one from URI characters to octets, and
   a second from octets to original characters:
</p>
<a name="rfc.figure.u.4"></a>
<pre>URI character sequence-&gt;octet sequence-&gt;original character sequence
</pre>
<p>
<a name="rfc.section.2.1.p.3"></a>
   A URI is represented as a sequence of characters, not as a sequence
   of octets. That is because a URI might be "transported" by means that
   are not through a computer network, e.g., printed on paper, read over
   the radio, etc.
</p>
<p>
<a name="rfc.section.2.1.p.4"></a>
   Within a delimited component of a URI, a sequence of characters is
   used to represent a sequence of octets. For example, the character "a"
   represents the octet 97 (decimal), while the character sequence "%",
   "0", "a" represents the octet 10 (decimal).
</p>
<p>
<a name="rfc.section.2.1.p.5"></a>
   There is a second translation for some resources: the sequence of
   octets defined by a component of the URI is subsequently used to
   represent a sequence of characters. A 'charset' defines this mapping.
   There are many charsets in use in Internet protocols. For example,
   UTF-8 <a href="#UTF-8" title="UTF-8, a transformation format of ISO 10646">[UTF-8]</a> defines a mapping from sequences of octets to sequences
   of characters in the repertoire of ISO 10646.
</p>
<p>
<a name="rfc.section.2.1.p.6"></a>
   In the simplest case, the original character sequence contains only
   characters that are defined in US-ASCII, and the two levels of
   mapping are simple and easily invertible: each 'original character'
   is represented as the octet for the US-ASCII code for it, which is,
   in turn, represented as either the US-ASCII character, or else the
   "%" escape sequence for that octet.
</p>
<p>
<a name="rfc.section.2.1.p.7"></a>
   For original character sequences that contain non-ASCII characters,
   however, the situation is more difficult. Internet protocols that
   transmit octet sequences intended to represent character sequences
   are expected to provide some way of identifying the charset used, if
   there might be more than one <a href="#RFC2277" title="IETF Policy on Character Sets and Languages">[RFC2277]</a>.  However, there is currently
   no provision within the generic URI syntax to accomplish this
   identification. An individual URI scheme may require a single
   charset, define a default charset, or provide a way to indicate the
   charset used.  For example, a new scheme "foo" might be defined such
   that any escaped octet is keyed to the UTF-8 encoding in order to
   determine the corresponding Unicode character.
</p>
<p>
<a name="rfc.section.2.1.p.8"></a>
   It is expected that a systematic treatment of character encoding
   within URIs will be developed as a future modification of this
   specification.
</p>
<h2>
<a name="rfc.section.2.2">2.2</a>&nbsp;
    Reserved Characters</h2>
<a name="rfc.figure.u.5"></a>
<p>

<a name="rfc.iref.3"></a>
   Many URI include components consisting of or delimited by, certain
   special characters.  These characters are called "reserved", since
   their usage within the URI component is limited to their reserved
   purpose.  If the data for a URI component would conflict with the
   reserved purpose, then the conflicting data must be escaped before
   forming the URI.
<a name="rfc.iref.4"></a>

</p>
<pre>   reserved    = "[" / "]" / ";" / "/" / "?" / 
                 ":" / "@" / "&amp;" / "=" / "+" / "$" / ","
</pre>
<p>
<a name="rfc.section.2.2.p.2"></a>
   The "reserved" syntax class above refers to those characters that are
   allowed within a URI, but which may not be allowed within a
   particular component of the generic URI syntax; they are used as
   delimiters of the components described in Section 3.
</p>
<p>
<a name="rfc.section.2.2.p.3"></a>
   Characters in the "reserved" set are not reserved in all contexts.
   The set of characters actually reserved within any given URI
   component is defined by that component. In general, a character is
   reserved if the semantics of the URI changes if the character is
   replaced with its escaped US-ASCII encoding.
</p>
<h2>
<a name="rfc.section.2.3">2.3</a>&nbsp;
    Unreserved Characters</h2>
<a name="rfc.figure.u.6"></a>
<p>

<a name="rfc.iref.5"></a>
<a name="rfc.iref.6"></a>
   Data characters that are allowed in a URI but do not have a reserved
   purpose are called unreserved.  These include upper and lower case
   letters, decimal digits, and a limited set of punctuation marks and
   symbols.
<a name="rfc.iref.7"></a>
<a name="rfc.iref.8"></a>

</p>
<pre>   unreserved  = ALPHA / DIGIT / mark

   mark        = "-" / "_" / "." / "!" / "~" / "*" / "'" / "(" / ")"
</pre>
<p>
<a name="rfc.section.2.3.p.2"></a>
   Unreserved characters can be escaped without changing the semantics
   of the URI, but this should not be done unless the URI is being used
   in a context that does not allow the unescaped character to appear.
   URI normalization processes may unescape sequences in the ranges of
   ALPHA (%41-%5A and %61-%7A), DIGIT (%30-%39), underscore (%5F), or
   tilde (%7E) without fear of creating a conflict, but unescaping the
   other mark characters is usually counterproductive.
</p>
<h2>
<a name="rfc.section.2.4">2.4</a>&nbsp;
    Escape Sequences</h2>
<p>
<a name="rfc.section.2.4.p.1"></a>
   Data must be escaped if it does not have a representation using an
   unreserved character; this includes data that does not correspond to
   a printable character of the US-ASCII coded character set, or that
   corresponds to any US-ASCII character that is disallowed, as
   explained below.
</p>
<h3>
<a name="rfc.section.2.4.1">2.4.1</a>&nbsp;
    Escaped Encoding</h3>
<a name="rfc.figure.u.7"></a>
<p>

<a name="rfc.iref.9"></a>
   An escaped octet is encoded as a character triplet, consisting of the
   percent character "%" followed by the two hexadecimal digits
   representing the octet code in . For example, "%20" is the escaped
   encoding for the US-ASCII space character.
<a name="rfc.iref.10"></a>

</p>
<pre>   escaped     = "%" HEXDIG HEXDIG
</pre>
<h3>
<a name="rfc.section.2.4.2">2.4.2</a>&nbsp;
    When to Escape and Unescape</h3>
<p>
<a name="rfc.section.2.4.2.p.1"></a>
   A URI is always in an "escaped" form, since escaping or unescaping a
   completed URI might change its semantics.  Normally, the only time
   escape encodings can safely be made is when the URI is being created
   from its component parts; each component may have its own set of
   characters that are reserved, so only the mechanism responsible for
   generating or interpreting that component can determine whether or
   not escaping a character will change its semantics. Likewise, a URI
   must be separated into its components before the escaped characters
   within those components can be safely decoded.
</p>
<p>
<a name="rfc.section.2.4.2.p.2"></a>
   In some cases, data that could be represented by an unreserved
   character may appear escaped; for example, some of the unreserved
   "mark" characters are automatically escaped by some systems.  If the
   given URI scheme defines a canonicalization algorithm, then
   unreserved characters may be unescaped according to that algorithm.
   For example, "%7e" is sometimes used instead of "~" in an http URI
   path, but the two are equivalent for an http URI.
</p>
<p>
<a name="rfc.section.2.4.2.p.3"></a>
   Because the percent "%" character always has the reserved purpose of
   being the escape indicator, it must be escaped as "%25" in order to
   be used as data within a URI.  Implementers should be careful not to
   escape or unescape the same string more than once, since unescaping
   an already unescaped string might lead to misinterpreting a percent
   data character as another escaped character, or vice versa in the
   case of escaping an already escaped string.
</p>
<h3>
<a name="rfc.section.2.4.3">2.4.3</a>&nbsp;
    Excluded US-ASCII Characters</h3>
<p>
<a name="rfc.section.2.4.3.p.1"></a>
   Although they are disallowed within the URI syntax, we include here a
   description of those US-ASCII characters that have been excluded and
   the reasons for their exclusion.
</p>
<p>
<a name="rfc.section.2.4.3.p.2"></a>
   The control characters (CTL) in the US-ASCII coded character set are not
   used within a URI, both because they are non-printable and because
   they are likely to be misinterpreted by some control mechanisms.
</p>
<p>
<a name="rfc.section.2.4.3.p.3"></a>
   The space character (SP) is excluded because significant spaces may
   disappear and insignificant spaces may be introduced when a URI is
   transcribed or typeset or subjected to the treatment of word-processing
   programs.  Whitespace is also used to delimit a URI in many
   contexts.
</p>
<a name="rfc.figure.u.8"></a>
<p>

<a name="rfc.iref.11"></a>
   The angle-bracket "&lt;" and "&gt;" and double-quote (") characters are
   excluded because they are often used as the delimiters around a URI in
   text documents and protocol fields.  The character "#" is excluded
   because it is used to delimit a URI from a fragment identifier in a URI
   reference (Section 4). The percent character "%" is excluded because
   it is used for the encoding of escaped characters.
<a name="rfc.iref.12"></a>

</p>
<pre>   delims      = "&lt;" / "&gt;" / "#" / "%" / DQUOTE
</pre>
<a name="rfc.figure.u.9"></a>
<p>

<a name="rfc.iref.13"></a>
   Other characters are excluded because gateways and other transport
   agents are known to sometimes modify such characters, or they are
   used as delimiters.
<a name="rfc.iref.14"></a>

</p>
<pre>   unwise      = "{" / "}" / "|" / "\" / "^" / "`"
</pre>
<p>
<a name="rfc.section.2.4.3.p.6"></a>
   Data corresponding to excluded characters must be escaped in order to
   be properly represented within a URI.
</p>


<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.iref.15"></a><a name="rfc.iref.16"></a><a name="rfc.section.3">3</a>&nbsp;
    URI Syntactic Components</h1>
<p>
<a name="rfc.section.3.p.1"></a>
   The URI syntax is dependent upon the scheme.  In general, absolute
   URIs are written as follows:
</p>
<a name="rfc.figure.u.10"></a>
<pre>   &lt;scheme&gt;:&lt;scheme-specific-part&gt;
</pre>
<p>
<a name="rfc.section.3.p.3"></a>
   An absolute URI contains the name of the scheme being used (&lt;scheme&gt;)
   followed by a colon (":") and then a string (the &lt;scheme-specific-part&gt;)
   whose interpretation depends on the scheme.
</p>
<p>
<a name="rfc.section.3.p.4"></a>
   The URI syntax does not require that the scheme-specific-part have
   any general structure or set of semantics which is common among all
   URIs.  However, a subset of URI do share a common syntax for
   representing hierarchical relationships within the namespace.  This
   "generic URI" syntax consists of a sequence of four main components:
</p>
<a name="rfc.figure.u.11"></a>
<pre>   &lt;scheme&gt;://&lt;authority&gt;&lt;path&gt;?&lt;query&gt;
</pre>
<p>
<a name="rfc.section.3.p.6"></a>
   each of which, except &lt;scheme&gt;, may be absent from a particular URI.
   For example, some URI schemes do not allow an &lt;authority&gt; component,
   and others do not use a &lt;query&gt; component.
</p>
<a name="rfc.figure.u.12"></a>
<pre>   absolute-URI  = scheme ":" ( hier-part / opaque-part )
</pre>
<a name="rfc.figure.u.13"></a>
<p>
   URIs that are hierarchical in nature use the slash "/" character for
   separating hierarchical components.  For some file systems, a "/"
   character (used to denote the hierarchical structure of a URI) is the
   delimiter used to construct a file name hierarchy, and thus the URI
   path will look similar to a file pathname.  This does NOT imply that
   the resource is a file or that the URI maps to an actual filesystem
   pathname.
<a name="rfc.iref.17"></a>
<a name="rfc.iref.18"></a>
<a name="rfc.iref.19"></a>
<a name="rfc.iref.20"></a>
<a name="rfc.iref.21"></a>
<a name="rfc.iref.22"></a>

</p>
<pre>   hier-part     = [ net-path / abs-path ] [ "?" query ]

   net-path      = "//" authority [ abs-path ]

   abs-path      = "/"  path-segments
</pre>
<a name="rfc.figure.u.14"></a>
<p>
   URIs that do not make use of the slash "/" character for separating
   hierarchical components are considered opaque by the generic URI
   parser.
<a name="rfc.iref.23"></a>
<a name="rfc.iref.24"></a>
<a name="rfc.iref.25"></a>
<a name="rfc.iref.26"></a>

</p>
<pre>   opaque-part   = uric-no-slash *uric

   uric-no-slash = unreserved / escaped / "[" / "]" / ";" / "?" /
                   ":" / "@" / "&amp;" / "=" / "+" / "$" / ","
</pre>
<p>
<a name="rfc.section.3.p.10"></a>
   We use the term &lt;path&gt; to refer to both the &lt;abs-path&gt; and
   &lt;opaque-part&gt; constructs, since they are mutually exclusive for any
   given URI and can be parsed as a single component.
</p>
<h2>
<a name="rfc.iref.27"></a><a name="rfc.section.3.1">3.1</a>&nbsp;
    Scheme Component</h2>
<p>
<a name="rfc.section.3.1.p.1"></a>
   Just as there are many different methods of access to resources,
   there are a variety of schemes for identifying such resources.  The
   URI syntax consists of a sequence of components separated by reserved
   characters, with the first component defining the semantics for the
   remainder of the URI string.
</p>
<a name="rfc.figure.u.15"></a>
<p>
   Scheme names consist of a sequence of characters beginning with a
   lower case letter and followed by any combination of lower case
   letters, digits, plus ("+"), period ("."), or hyphen ("-").  For
   resiliency, programs interpreting a URI should treat upper case letters
   as equivalent to lower case in scheme names (e.g., allow "HTTP" as
   well as "http").
<a name="rfc.iref.28"></a>

</p>
<pre>   scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
</pre>
<p>
<a name="rfc.section.3.1.p.3"></a>
   Relative URI references are distinguished from absolute URI in that
   they do not begin with a scheme name.  Instead, the scheme is
   inherited from the base URI, as described in Section 5.2.
</p>
<h2>
<a name="rfc.section.3.2">3.2</a>&nbsp;
    Authority Component</h2>
<a name="rfc.figure.u.16"></a>
<p>

<a name="rfc.iref.29"></a>
   Many URI schemes include a top hierarchical element for a naming
   authority, such that the namespace defined by the remainder of the
   URI is governed by that authority.  This authority component is
   typically defined by an Internet-based server or a scheme-specific
   registry of naming authorities.
<a name="rfc.iref.30"></a>

</p>
<pre>   authority     = server / reg-name
</pre>
<p>
<a name="rfc.section.3.2.p.2"></a>
   The authority component is preceded by a double slash "//" and is
   terminated by the next slash "/", question-mark "?", or by the end of
   the URI.  Within the authority component, the characters ";", ":",
   "@", "?", "/", "[", and "]" are reserved.
</p>
<p>
<a name="rfc.section.3.2.p.3"></a>
   An authority component is not required for a URI scheme to make use
   of relative references.  A base URI without an authority component
   implies that any relative reference will also be without an authority
   component.
</p>
<h3>
<a name="rfc.section.3.2.1">3.2.1</a>&nbsp;
    Registry-based Naming Authority</h3>
<a name="rfc.figure.u.17"></a>
<p>

<a name="rfc.iref.31"></a>
   The structure of a registry-based naming authority is specific to the
   URI scheme, but constrained to the allowed characters for an
   authority component.
<a name="rfc.iref.32"></a>

</p>
<pre>   reg-name      = 1*( unreserved / escaped / ";" /
                       ":" / "@" / "&amp;" / "=" / "+" / "$" / "," )
</pre>
<h3>
<a name="rfc.iref.33"></a><a name="rfc.iref.34"></a><a name="rfc.iref.35"></a><a name="rfc.section.3.2.2">3.2.2</a>&nbsp;
    Server-based Naming Authority</h3>
<p>
<a name="rfc.section.3.2.2.p.1"></a>
   URI schemes that involve the direct use of an IP-based protocol to a
   specified server on the Internet use a common syntax for the server
   component of the URI's scheme-specific data:
</p>
<a name="rfc.figure.u.18"></a>
<pre>   &lt;userinfo&gt;@&lt;host&gt;:&lt;port&gt;
</pre>
<p>
<a name="rfc.section.3.2.2.p.3"></a>
   where &lt;userinfo&gt; may consist of a user name and, optionally,
   scheme-specific information about how to gain authorization to access the
   server.  The parts "&lt;userinfo&gt;@" and ":&lt;port&gt;" may be omitted.
   If &lt;host&gt; is omitted, the default host is defined by the
   scheme-specific semantics of the URI (e.g., the "file" URI
   scheme defaults to "localhost", whereas the "http" URI scheme
   does not allow host to be omitted).
</p>
<a name="rfc.figure.u.19"></a>
<pre>   server        = [ [ userinfo "@" ] hostport ]
</pre>
<a name="rfc.figure.u.20"></a>
<p>
   The user information, if present, is followed by a commercial at-sign
   "@".
<a name="rfc.iref.36"></a>

</p>
<pre>   userinfo      = *( unreserved / escaped / ";" /
                      ":" / "&amp;" / "=" / "+" / "$" / "," )
</pre>
<p>
<a name="rfc.section.3.2.2.p.6"></a>
   Some URI schemes use the format "user:password" in the userinfo
   field. This practice is NOT RECOMMENDED, because the passing of
   authentication information in clear text has proven to
   be a security risk in almost every case where it has been used.
   Note also that userinfo which is crafted to look like a trusted
   domain name might be used to mislead users, as described in
   Section 7.5.
</p>
<a name="rfc.figure.u.21"></a>
<p>

<a name="rfc.iref.37"></a>
<a name="rfc.iref.38"></a>
<a name="rfc.iref.39"></a>
   The server is identified by a network host --- as described by an
   IPv6 literal encapsulated within square brackets, an IPv4 address in
   dotted-decimal form, or a domain name --- and an optional port number.
   The server's port, if any is required by the URI scheme, can be
   specified by a port number in decimal following the host and delimited
   from it by a colon (":") character.  If no explicit port number is
   given, the default port number, as defined by the URI scheme, is
   assumed.  The type of network port identified by the URI (e.g.,
   TCP, UDP, SCTP, etc.) is defined by the scheme-specific semantics
   of the URI scheme.
<a name="rfc.iref.40"></a>
<a name="rfc.iref.41"></a>
<a name="rfc.iref.42"></a>

</p>
<pre>   hostport      = host [ ":" port ]
   host          = IPv6reference / IPv4address / hostname
   port          = *DIGIT
</pre>
<a name="rfc.figure.u.22"></a>
<p>

<a name="rfc.iref.43"></a>
<a name="rfc.iref.44"></a>
<a name="rfc.iref.45"></a>
<a name="rfc.iref.46"></a>
<a name="rfc.iref.47"></a>
   A hostname takes the form described in Section 3 of <a href="#RFC1034" title="Domain names - concepts and facilities">[RFC1034]</a>
   and Section 2.1 of <a href="#RFC1123" title="Requirements for Internet Hosts - Application and Support">[RFC1123]</a>: a sequence of domain labels
   separated by ".", each domain label starting and ending with an alphanumeric
   character and possibly also containing "-" characters.  The rightmost
   domain label of a fully qualified domain name will never start with a
   digit, thus syntactically distinguishing domain names from IPv4
   addresses, and may be followed by a single "." if it is necessary to
   distinguish between the complete domain name and any local domain.
<a name="rfc.iref.48"></a>
<a name="rfc.iref.49"></a>
<a name="rfc.iref.50"></a>
<a name="rfc.iref.51"></a>
<a name="rfc.iref.52"></a>

</p>
<pre>   hostname      = domainlabel qualified
   qualified     = *( "." domainlabel ) [ "." toplabel "." ]
   domainlabel   = alphanum [ 0*61( alphanum | "-" ) alphanum ]
   toplabel      = alpha    [ 0*61( alphanum | "-" ) alphanum ]
   alphanum      = ALPHA / DIGIT
</pre>
<a name="rfc.figure.u.23"></a>
<p>

<a name="rfc.iref.53"></a>
<a name="rfc.iref.54"></a>
<a name="rfc.iref.55"></a>
   A host identified by an IPv4 literal address is represented in
   dotted-decimal notation (a sequence of four decimal numbers in the
   range 0 to 255, separated by "."), as described in <a href="#RFC1123" title="Requirements for Internet Hosts - Application and Support">[RFC1123]</a>
   by reference to <a href="#RFC0952" title="DoD Internet host table specification">[RFC0952]</a>.  Note that other forms of
   dotted notation may be interpreted on some platforms, as described in
   Section 7.3, but only the dotted-decimal form of four octets is
   allowed by this grammar.
<a name="rfc.iref.56"></a>
<a name="rfc.iref.57"></a>

</p>
<pre>   IPv4address = dec-octet "." dec-octet "." dec-octet "." dec-octet
   dec-octet   = DIGIT /                         ; 0-9
                 ( %x31-39 DIGIT ) /             ; 10-99
                 ( "1" 2DIGIT ) /                ; 100-199
                 ( "2" %x30-34 DIGIT ) /         ; 200-249
                 ( "25" %x30-35 )                ; 250-255
</pre>
<a name="rfc.figure.u.24"></a>
<p>

<a name="rfc.iref.58"></a>
<a name="rfc.iref.59"></a>
<a name="rfc.iref.60"></a>
<a name="rfc.iref.61"></a>
<a name="rfc.iref.62"></a>
   A host identified by an IPv6 literal address <a href="#RFC2373" title="IP Version 6 Addressing Architecture">[RFC2373]</a>
   is distinguished by enclosing the IPv6 literal within square-brakets
   ("[" and "]").  This is the only place where square-bracket characters
   are allowed in the hierarchical URI syntax.
<a name="rfc.iref.63"></a>
<a name="rfc.iref.64"></a>
<a name="rfc.iref.65"></a>
<a name="rfc.iref.66"></a>

</p>
<pre>   IPv6reference = "[" IPv6address "]"

   IPv6address   = (                          6( h4 ":" ) ls32 )
                 / (                     "::" 5( h4 ":" ) ls32 )
                 / ( [              h4 ] "::" 4( h4 ":" ) ls32 )
                 / ( [ *1( h4 ":" ) h4 ] "::" 3( h4 ":" ) ls32 )
                 / ( [ *2( h4 ":" ) h4 ] "::" 2( h4 ":" ) ls32 )
                 / ( [ *3( h4 ":" ) h4 ] "::"    h4 ":"   ls32 )
                 / ( [ *4( h4 ":" ) h4 ] "::"             ls32 )
                 / ( [ *5( h4 ":" ) h4 ] "::"             h4   )
                 / ( [ *6( h4 ":" ) h4 ] "::"                  )

   ls32          = ( h4 ":" h4 ) / IPv4address
                 ; least-significant 32 bits of address

   h4            = 1*4HEXDIG
</pre>
<h2>
<a name="rfc.section.3.3">3.3</a>&nbsp;
    Path Component</h2>
<a name="rfc.figure.u.25"></a>
<p>

<a name="rfc.iref.67"></a>
   The path component contains data, specific to the authority (or the
   scheme if there is no authority component), identifying the resource
   within the scope of that scheme and authority.
<a name="rfc.iref.68"></a>
<a name="rfc.iref.69"></a>
<a name="rfc.iref.70"></a>
<a name="rfc.iref.71"></a>
<a name="rfc.iref.72"></a>
<a name="rfc.iref.73"></a>
<a name="rfc.iref.74"></a>

</p>
<pre>   path          = [ abs-path / opaque-part ]

   path-segments = segment *( "/" segment )
   segment       = *pchar

   pchar         = unreserved / escaped / ";" /
                   ":" / "@" / "&amp;" / "=" / "+" / "$" / ","
</pre>
<p>
<a name="rfc.section.3.3.p.2"></a>
   The path may consist of a sequence of path segments separated by a
   single slash "/" character.  Within a path segment, the characters
   "/", ";", "=", and "?" are reserved.  The semicolon (";") and
   equals ("=") characters have the reserved purpose of delimiting
   parameters and parameter values within a path segment.  However,
   parameters are not significant to the parsing of relative references.
</p>
<h2>
<a name="rfc.section.3.4">3.4</a>&nbsp;
    Query Component</h2>
<a name="rfc.figure.u.26"></a>
<p>

<a name="rfc.iref.75"></a>
   The query component is a string of information to be interpreted by
   the resource.
<a name="rfc.iref.76"></a>

</p>
<pre>   query         = *( pchar / "/" / "?" )
</pre>
<p>
<a name="rfc.section.3.4.p.2"></a>
   Within a query component, the characters ";", "/", "?", ":", "@",
   "&amp;", "=", "+", ",", and "$" are reserved.
</p>


<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.4">4</a>&nbsp;
    URI References</h1>
<a name="rfc.figure.u.27"></a>
<p>

<a name="rfc.iref.77"></a>
   The term "URI-reference" is used here to denote the common usage of a
   resource identifier.  A URI reference may be absolute or relative,
   and may have additional information attached in the form of a
   fragment identifier.  However, "the URI" that results from such a
   reference includes only the absolute URI after the fragment
   identifier (if any) is removed and after any relative URI is resolved
   to its absolute form.  Although it is possible to limit the
   discussion of URI syntax and semantics to that of the absolute
   result, most usage of URI is within general URI references, and it is
   impossible to obtain the URI from such a reference without also
   parsing the fragment and resolving the relative form.
<a name="rfc.iref.78"></a>

</p>
<pre>   URI-reference = [ absolute-URI / relative-URI ] [ "#" fragment ]
</pre>
<a name="rfc.figure.u.28"></a>
<p>

<a name="rfc.iref.79"></a>
   Many protocol elements allow only the absolute form of a URI with
   an optional fragment identifier.
<a name="rfc.iref.80"></a>

</p>
<pre>   absolute-URI-reference = absolute-URI [ "#" fragment ]
</pre>
<p>
<a name="rfc.section.4.p.3"></a>
   The syntax for a relative URI is a shortened form of that for an absolute
   URI, where some prefix of the URI is missing and certain path
   components ("." and "..") have a special meaning when, and only when,
   interpreting a relative path.  The relative URI syntax is defined in
   Section 5.
</p>
<h2>
<a name="rfc.section.4.1">4.1</a>&nbsp;
    Fragment Identifier</h2>
<a name="rfc.figure.u.29"></a>
<p>

<a name="rfc.iref.81"></a>
   When a URI reference is used to perform a retrieval action on the
   identified resource, the optional fragment identifier, separated from
   the URI by a crosshatch ("#") character, consists of additional
   reference information to be interpreted by the user agent after the
   retrieval action has been successfully completed.  As such, it is not
   part of a URI, but is often used in conjunction with a URI.
<a name="rfc.iref.82"></a>

</p>
<pre>   fragment      = *( pchar / "/" / "?" )
</pre>
<p>
<a name="rfc.section.4.1.p.2"></a>
   The semantics of a fragment identifier is a property of the data
   resulting from a retrieval action, regardless of the type of URI used
   in the reference.  Therefore, the format and interpretation of
   fragment identifiers is dependent on the media type
   <a href="#RFC2046" title="Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types">[RFC2046]</a> of the
   retrieval result.  The character restrictions described in Section 2
   for a URI also apply to the fragment in a URI-reference.  Individual
   media types may define additional restrictions or structure within
   the fragment for specifying different types of "partial views" that
   can be identified within that media type.
</p>
<p>
<a name="rfc.section.4.1.p.3"></a>
   A fragment identifier is only meaningful when a URI reference is
   intended for retrieval and the result of that retrieval is a document
   for which the identified fragment is consistently defined.
</p>
<h2>
<a name="rfc.section.4.2">4.2</a>&nbsp;
    Same-document References</h2>
<p>
<a name="rfc.section.4.2.p.1"></a>
   A URI reference that does not contain a URI is a reference to the
   current document.  In other words, an empty URI reference within a
   document is interpreted as a reference to the start of that document,
   and a reference containing only a fragment identifier is a reference
   to the identified fragment of that document.  Traversal of such a
   reference should not result in an additional retrieval action.
   However, if the URI reference occurs in a context that is always
   intended to result in a new request, as in the case of HTML's FORM
   element <a href="#HTML" title="Hypertext Markup Language (HTML 4.01) Specification">[HTML]</a>, then an empty URI reference represents
   the base URI of the current document and should be replaced by that
   URI when transformed into a request.
</p>
<h2>
<a name="rfc.section.4.3">4.3</a>&nbsp;
    Parsing a URI Reference</h2>
<p>
<a name="rfc.section.4.3.p.1"></a>
   A URI reference is typically parsed according to the four main
   components and fragment identifier in order to determine what
   components are present and whether the reference is relative or
   absolute.  The individual components are then parsed for their
   subparts and, if not opaque, to verify their validity.
</p>
<p>
<a name="rfc.section.4.3.p.2"></a>
   Although the BNF defines what is allowed in each component, it is
   ambiguous in terms of differentiating between an authority component
   and a path component that begins with two slash characters.  The
   greedy algorithm is used for disambiguation: the left-most matching
   rule soaks up as much of the URI reference string as it is capable of
   matching.  In other words, the authority component wins.
</p>
<p>
<a name="rfc.section.4.3.p.3"></a>
   Readers familiar with regular expressions should see Appendix B for a
   concrete parsing example and test oracle.
</p>


<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.iref.83"></a><a name="rfc.section.5">5</a>&nbsp;
    Relative URI References</h1>
<p>
<a name="rfc.section.5.p.1"></a>
   It is often the case that a group or "tree" of documents has been
   constructed to serve a common purpose; the vast majority of URIs in
   these documents point to resources within the tree rather than
   outside of it.  Similarly, documents located at a particular site are
   much more likely to refer to other resources at that site than to
   resources at remote sites.
</p>
<p>
<a name="rfc.section.5.p.2"></a>
   Relative addressing of URIs allows document trees to be partially
   independent of their location and access scheme.  For instance, it is
   possible for a single set of hypertext documents to be simultaneously
   accessible and traversable via each of the "file", "http", and "ftp"
   schemes if the documents refer to each other using relative URIs.
   Furthermore, such document trees can be moved, as a whole, without
   changing any of the relative references.  Experience within the WWW
   has demonstrated that the ability to perform relative referencing is
   necessary for the long-term usability of embedded URIs.
</p>
<a name="rfc.figure.u.30"></a>
<p>
   The relative URI syntax takes advantage of the &lt;hier-part&gt; syntax
   of &lt;absolute-URI&gt; (Section 3) in order to express a reference that is
   relative to the namespace of another hierarchical URI.
<a name="rfc.iref.84"></a>

</p>
<pre>   relative-URI  = [ net-path / abs-path / rel-path ] [ "?" query ]
</pre>
<p>
<a name="rfc.section.5.p.4"></a>
   A relative reference beginning with two slash characters is termed a
   network-path reference, as defined by &lt;net-path&gt; in Section 3.  Such
   references are rarely used.
</p>
<p>
<a name="rfc.section.5.p.5"></a>
   A relative reference beginning with a single slash character is
   termed an absolute-path reference, as defined by &lt;abs-path&gt; in
   Section 3.
</p>
<a name="rfc.figure.u.31"></a>
<p>

<a name="rfc.iref.85"></a>
<a name="rfc.iref.86"></a>
   A relative reference that does not begin with a scheme name or a
   slash character is termed a relative-path reference.
<a name="rfc.iref.87"></a>
<a name="rfc.iref.88"></a>

</p>
<pre>   rel-path      = rel-segment [ abs-path ]

   rel-segment   = 1*( unreserved / escaped / ";" /
                       "@" / "&amp;" / "=" / "+" / "$" / "," )
</pre>
<p>
<a name="rfc.section.5.p.7"></a>
   Within a relative-path reference, the complete path segments "." and
   ".." have special meanings: "the current hierarchy level" and "the
   level above this hierarchy level", respectively.  Although this is
   very similar to their use within Unix-based filesystems to indicate
   directory levels, these path components are only considered special
   when resolving a relative-path reference to its absolute form
   (Section 5.2).
</p>
<p>
<a name="rfc.section.5.p.8"></a>
   Authors should be aware that a path segment which contains a colon
   character cannot be used as the first segment of a relative URI path
   (e.g., "this:that"), because it would be mistaken for a scheme name.
   It is therefore necessary to precede such segments with other
   segments (e.g., "./this:that") in order for them to be referenced as
   a relative path.
</p>
<p>
<a name="rfc.section.5.p.9"></a>
   It is not necessary for all URI within a given scheme to be
   restricted to the &lt;hier-part&gt; syntax, since the hierarchical
   properties of that syntax are only necessary when a relative URI is
   used within a particular document.  Documents can only make use of
   a relative URI when their base URI fits within the &lt;hier-part&gt; syntax.
   It is assumed that any document which contains a relative reference
   will also have a base URI that obeys the syntax.  In other words, a
   relative URI cannot be used within a document that has an unsuitable
   base URI.
</p>
<p>
<a name="rfc.section.5.p.10"></a>
   Some URI schemes do not allow a hierarchical syntax matching the
   &lt;hier-part&gt; syntax, and thus cannot use relative references.
</p>
<h2>
<a name="rfc.section.5.1">5.1</a>&nbsp;
    Establishing a Base URI</h2>
<p>
<a name="rfc.section.5.1.p.1"></a>
   The term "relative URI" implies that there exists some absolute "base
   URI" against which the relative reference is applied.  Indeed, the
   base URI is necessary to define the semantics of any relative URI
   reference; without it, a relative reference is meaningless.  In order
   for relative URI to be usable within a document, the base URI of that
   document must be known to the parser.
</p>
<p>
<a name="rfc.section.5.1.p.2"></a>
   The base URI of a document can be established in one of four ways,
   listed below in order of precedence.  The order of precedence can be
   thought of in terms of layers, where the innermost defined base URI
   has the highest precedence.  This can be visualized graphically as:
</p>
<a name="rfc.figure.u.32"></a>
<pre>   .----------------------------------------------------------.
   |  .----------------------------------------------------.  |
   |  |  .----------------------------------------------.  |  |
   |  |  |  .----------------------------------------.  |  |  |
   |  |  |  |  .----------------------------------.  |  |  |  |
   |  |  |  |  |       &lt;relative-reference&gt;       |  |  |  |  |
   |  |  |  |  `----------------------------------'  |  |  |  |
   |  |  |  | (5.1.1) Base URI embedded in the       |  |  |  |
   |  |  |  |         document's content             |  |  |  |
   |  |  |  `----------------------------------------'  |  |  |
   |  |  | (5.1.2) Base URI of the encapsulating entity |  |  |
   |  |  |         (message, document, or none).        |  |  |
   |  |  `----------------------------------------------'  |  |
   |  | (5.1.3) URI used to retrieve the entity            |  |
   |  `----------------------------------------------------'  |
   | (5.1.4) Default Base URI is application-dependent        |
   `----------------------------------------------------------'
</pre>
<h3>
<a name="rfc.section.5.1.1">5.1.1</a>&nbsp;
    Base URI within Document Content</h3>
<p>
<a name="rfc.section.5.1.1.p.1"></a>
   Within certain document media types, the base URI of the document can
   be embedded within the content itself such that it can be readily
   obtained by a parser.  This can be useful for descriptive documents,
   such as tables of content, which may be transmitted to others through
   protocols other than their usual retrieval context (e.g., E-Mail or
   USENET news).
</p>
<p>
<a name="rfc.section.5.1.1.p.2"></a>
   It is beyond the scope of this document to specify how, for each
   media type, the base URI can be embedded.  It is assumed that user
   agents manipulating such media types will be able to obtain the
   appropriate syntax from that media type's specification.  An example
   of how the base URI can be embedded in the Hypertext Markup Language
   (HTML) <a href="#HTML" title="Hypertext Markup Language (HTML 4.01) Specification">[HTML]</a> is provided in Appendix D.
</p>
<p>
<a name="rfc.section.5.1.1.p.3"></a>
   A mechanism for embedding the base URI within MIME container types
   (e.g., the message and multipart types) is defined by MHTML
   <a href="#RFC2110" title="MIME E-mail Encapsulation of Aggregate Documents, such as HTML (MHTML)">[RFC2110]</a>.  Protocols that do not use the MIME message header syntax,
   but which do allow some form of tagged metainformation to be included
   within messages, may define their own syntax for defining the base
   URI as part of a message.
</p>
<h3>
<a name="rfc.section.5.1.2">5.1.2</a>&nbsp;
    Base URI from the Encapsulating Entity</h3>
<p>
<a name="rfc.section.5.1.2.p.1"></a>
   If no base URI is embedded, the base URI of a document is defined by
   the document's retrieval context.  For a document that is enclosed
   within another entity (such as a message or another document), the
   retrieval context is that entity; thus, the default base URI of the
   document is the base URI of the entity in which the document is
   encapsulated.
</p>
<h3>
<a name="rfc.section.5.1.3">5.1.3</a>&nbsp;
    Base URI from the Retrieval URI</h3>
<p>
<a name="rfc.section.5.1.3.p.1"></a>
   If no base URI is embedded and the document is not encapsulated
   within some other entity (e.g., the top level of a composite entity),
   then, if a URI was used to retrieve the base document, that URI shall
   be considered the base URI.  Note that if the retrieval was the
   result of a redirected request, the last URI used (i.e., that which
   resulted in the actual retrieval of the document) is the base URI.
</p>
<h3>
<a name="rfc.section.5.1.4">5.1.4</a>&nbsp;
    Default Base URI</h3>
<p>
<a name="rfc.section.5.1.4.p.1"></a>
   If none of the conditions described in Sections 5.1.1--5.1.3 apply,
   then the base URI is defined by the context of the application.
   Since this definition is necessarily application-dependent, failing
   to define the base URI using one of the other methods may result in
   the same content being interpreted differently by different types of
   application.
</p>
<p>
<a name="rfc.section.5.1.4.p.2"></a>
   It is the responsibility of the distributor(s) of a document
   containing a relative URI to ensure that the base URI for that document
   can be established.  It must be emphasized that a relative URI cannot
   be used reliably in situations where the document's base URI is not
   well-defined.
</p>
<h2>
<a name="rfc.section.5.2">5.2</a>&nbsp;
    Resolving Relative References to Absolute Form</h2>
<p>
<a name="rfc.section.5.2.p.1"></a>
   This section describes an example algorithm for resolving URI
   references that might be relative to a given base URI.  The algorithm
   is intended to provide a definitive result that can be used to test
   the output of other implementations.  Implementation of the algorithm
   itself is not required, but the result given by an implementation must
   match the result that would be given by this algorithm.
</p>
<p>
<a name="rfc.section.5.2.p.2"></a>
   The base URI is established according to the rules of Section 5.1 and
   parsed into the four main components as described in Section 3.  Note
   that only the scheme component is required to be present in the base
   URI; the other components may be empty or undefined.  A component is
   undefined if its preceding separator does not appear in the URI
   reference; the path component is never undefined, though it may be
   empty.  The base URI's query component is not used by the resolution
   algorithm and may be discarded.
</p>
<a name="rfc.figure.u.33"></a>
<p>
   For each URI reference (R), the following pseudocode describes an
   algorithm for transforming R into its target (T), which is either
   an absolute URI or the current document, and R's optional fragment:
</p>

<pre>   (R.scheme, R.authority, R.path, R.query, fragment) = parse(R);
      -- The URI reference is parsed into the four components and
      -- fragment identifier, as described in Section 4.3.

   if ((not validating) and (R.scheme == Base.scheme)) then
      -- A non-validating parser may ignore a scheme in the
      -- reference if it is identical to the base URI's scheme.
      undefine(R.scheme);
   endif;

   if defined(R.scheme) then
      T.scheme    = R.scheme;
      T.authority = R.authority;
      T.path      = R.path;
      T.query     = R.query;
   else
      if defined(R.authority) then
         T.authority = R.authority;
         T.path      = R.path;
         T.query     = R.query;
      else
         if (R.path == "") then
            if defined(R.query) then
               T.path  = Base.path;
               T.query = R.query;
            else
               -- An empty reference refers to the current document
               return (current-document, fragment);
            endif;
         else
            if (R.path starts-with "/") then
               T.path = R.path;
            else
               T.path = merge(Base.path, R.path);
            endif;
            T.query = R.query;
         endif;
         T.authority = Base.authority;
      endif;
      T.scheme = Base.scheme;
   endif;

   return (T, fragment);
</pre>
<p>
<a name="rfc.section.5.2.p.4"></a>
The pseudocode above refers to a merge routine for merging a
relative-path reference with the path of the base URI to obtain the
target path.  Although there are many ways to do this, we will describe
a simple method using a separate string buffer:
<blockquote>
<ol>

<li>
All but the last segment of the base URI's path component is
copied to the buffer.  In other words, any characters after the
last (right-most) slash character, if any, are excluded.
If the base URI's path component is the empty string, then
a single slash character ("/") is copied to the buffer.
</li>

<li>
The reference's path component is appended to the buffer
string.
</li>

<li>
All occurrences of "./", where "." is a complete path segment,
are removed from the buffer string.
</li>

<li>
If the buffer string ends with "." as a complete path segment,
that "." is removed.
</li>

<li>
All occurrences of "&lt;segment&gt;/../", where &lt;segment&gt; is a
complete path segment not equal to "..", are removed from the
buffer string.  Removal of these path segments is performed
iteratively, removing the leftmost matching pattern on each
iteration, until no matching pattern remains.
</li>

<li>
If the buffer string ends with "&lt;segment&gt;/..", where &lt;segment&gt;
is a complete path segment not equal to "..", that
"&lt;segment&gt;/.." is removed.
</li>

<li>
If the resulting buffer string still begins with one or more
complete path segments of "..", then the reference is
considered to be in error.  Implementations may handle this
error by retaining these components in the resolved path (i.e.,
treating them as part of the final URI), by removing them from
the resolved path (i.e., discarding relative levels above the
root), or by avoiding traversal of the reference.
</li>

<li>
The remaining buffer string is the target URI's path component.
</li>
  
</ol>
</blockquote>

</p>
<p>
<a name="rfc.section.5.2.p.5"></a>
   Some systems may find it more efficient to implement the merge
   algorithm as a pair of path segment stacks being merged, rather
   than as a series of string pattern replacements.
  <blockquote>
    
<p>
      Note: Some WWW client applications will fail to separate the
      reference's query component from its path component before merging
      the base and reference paths.  This may result in a loss of
      information if the query component contains the strings "/../" or "/./".
    </p>
  
</blockquote>

</p>
<a name="rfc.figure.u.34"></a>
<p>
The resulting target URI components and fragment can be
recombined to provide the absolute form of the URI reference.
Using pseudocode, this would be:
</p>
<pre>   result = ""

   if defined(T.scheme) then
      append T.scheme to result;
      append ":" to result;
   endif;

   if defined(T.authority) then
      append "//" to result;
      append T.authority to result;
   endif;

   append T.path to result;

   if defined(T.query) then
      append "?" to result;
      append T.query to result;
   endif;

   if defined(fragment) then
      append "#" to result;
      append fragment to result;
   endif;

   return result;
</pre>
<p>
Note that we must be careful to preserve the distinction between a
component that is undefined, meaning that its separator was not
present in the reference, and a component that is empty, meaning
that the separator was present and was immediately followed by the
next component separator or the end of the reference.
</p>
<p>
<a name="rfc.section.5.2.p.7"></a>
   Resolution examples are provided in Appendix C.
</p>


<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.6">6</a>&nbsp;
    URI Normalization and Comparison</h1>
<p>
<a name="rfc.section.6.p.1"></a>
One of the most common operations on URIs is simple comparison:
determining if two URIs are equivalent without using the URIs to
access their respective resource(s).  A comparison is performed
every time a response cache is accessed, a browser checks its
history to color a link, or an XML parser processes tags within a namespace.
Extensive normalization prior to comparison of URIs is often used
by spiders and indexing engines to prune a search space or
reduce duplication of request actions and response storage.
</p>
<p>
<a name="rfc.section.6.p.2"></a>
URI comparison is performed in respect to some particular purpose,
and software with differing purposes will often be subject to differing
design trade-offs in regards to how much effort should be spent in
reducing duplicate identifiers.  This section describes a variety of
methods that may be used to compare URIs, the trade-offs between them,
and the types of applications that might use them.
</p>
<h2>
<a name="rfc.section.6.1">6.1</a>&nbsp;
    URI Equivalence</h2>
<p>
<a name="rfc.section.6.1.p.1"></a>
  Since URIs exist to identify resources, presumably they should be
  considered equivalent when they identify the same resource.  However,
  such a definition of equivalence is not of much practical use, since
  there is no way for software to compare two resources without knowledge
  of their origin.  For this reason, determination of equivalence or
  difference of URIs is based on string comparison, perhaps augmented by
  reference to additional rules provided by URI scheme definitions.
  We use the terms "different" and "equivalent" to describe
  the possible outcomes of such comparisons, but there
  are many application-dependent versions of equivalence.
  </p>
<p>
<a name="rfc.section.6.1.p.2"></a>
  Even though it is possible to determine that two URIs are equivalent,
  it is never possible to be sure that two URIs identify different
  resources. Therefore, comparison methods are designed to minimize
  false negatives while strictly avoiding false positives.
  </p>
<p>
<a name="rfc.section.6.1.p.3"></a>
  In testing for equivalence, it is generally unwise to directly compare
  relative URI references; they should be converted to their absolute forms
  before comparison.  Furthermore, when URI references are being compared
  for the purpose of selecting (or avoiding) a network action, such as
  retrieval of a representation, it is often necessary to separate fragment
  identifiers from the URIs prior to comparison.
  </p>
<h2>
<a name="rfc.section.6.2">6.2</a>&nbsp;
    Comparison Ladder</h2>
<p>
<a name="rfc.section.6.2.p.1"></a>
  A variety of methods are used in practice to test URI equivalence.
  These methods fall into a range, distinguished by the amount of
  processing required and the degree to which the probability of false
  negatives is reduced.  As noted above, false negatives cannot in
  principle be eliminated.  In practice, their probability can be reduced,
  but this reduction requires more processing and is
  not cost-effective for all applications.
  </p>
<p>
<a name="rfc.section.6.2.p.2"></a>
  If this range of comparison practices is considered as a ladder, the
  following discussion will climb the ladder, starting with those that
  are cheap but have a relatively higher chance of producing false negatives,
  and proceeding to those that have higher computational cost and lower risk
  of false negatives.
  </p>
<h3>
<a name="rfc.section.6.2.1">6.2.1</a>&nbsp;
    Simple String Comparison</h3>
<p>
<a name="rfc.section.6.2.1.p.1"></a>
    If two URIs, considered as character strings, are identical, then it is
    safe to conclude that they are equivalent.  This type of equivalence test
    has very low computational cost and is in wide use in a variety of
    applications, particularly in the domain of parsing.
    </p>
<p>
<a name="rfc.section.6.2.1.p.2"></a>
    Testing strings for equivalence requires some basic precautions.
    This procedure is often referred to as "bit-for-bit" or "byte-for-byte"
    comparison, which is potentially misleading.  Testing of strings for
    equality is normally based on pairwise comparison of the characters
    that make up the strings, starting from the first and proceeding until
    both strings are exhausted and all characters found to be equal, or a
    pair of characters compares unequal or one of the strings is exhausted
    before the other.
    </p>
<p>
<a name="rfc.section.6.2.1.p.3"></a>
    Such character comparisons require that each pair of characters be put
    in comparable form.  For example, should one URI be stored in a byte
    array in EBCDIC encoding, and the second be in a Java String object,
    bit-for-bit comparisons applied naively will produce both false-positive
    and false-negative errors.  Thus, in principle, it is better to speak of
    equality on a character-for-character rather than byte-for-byte or
    bit-for-bit basis.
    </p>
<p>
<a name="rfc.section.6.2.1.p.4"></a>
    Unicode defines a character as being identified by number
    ("codepoint") with an associated bundle of visual and other semantics.
    At the software level, it is not practical to compare semantic bundles,
    so in practical terms, character-by-character comparisons are done
    codepoint-by-codepoint.
    </p>
<h3>
<a name="rfc.section.6.2.2">6.2.2</a>&nbsp;
    Syntax-based Normalization</h3>
<a name="rfc.figure.u.35"></a>
<p>
Software may use logic based on the definitions provided by this
specification to reduce the probability of false negatives.  Such
processing is (moderately) higher in cost than character-for-character
string comparison.  For example, an application using this approach
could reasonably consider the following two URIs equivalent:
</p>
<pre>   example://a/b/c/%7A
   eXAMPLE://a/./b/../b/c/%7a
</pre>
<p>
Web user agents, such as browsers, typically apply this type of URI
normalization when determining whether a cached response is available.
Syntax-based normalization includes such techniques
as case normalization, escape normalization, and removal of leftover
relative path segments.
</p>
<h3>
<a name="rfc.section.6.2.2.1">6.2.2.1</a>&nbsp;
    Case Normalization</h3>
<p>
<a name="rfc.section.6.2.2.1.p.1"></a>
      When a URI scheme uses elements of the common syntax, it will
      also use the common syntax equivalence rules, namely that the scheme
      and hostname are case insensitive and therefore can be normailized
      to lowercase.  For example, the URI &lt;HTTP://www.EXAMPLE.com/&gt; is
      equivalent to &lt;http://www.example.com/&gt;.
      </p>
<h3>
<a name="rfc.section.6.2.2.2">6.2.2.2</a>&nbsp;
    Escape Normalization</h3>
<p>
<a name="rfc.section.6.2.2.2.p.1"></a>
      The %-escape mechanism described in Section 2.4 is a frequent source
      of variance among otherwise identical URIs.  One cause is the choice
      of upper-case or lower-case letters for the hexadecimal digits
      within the escape sequence (e.g., "%3a" versus "%3A").  Such
      sequences are always equivalent; for the sake of uniformity, URI
      generators and normalizers are strongly encouraged to use upper-case
      letters for the hex digits A-F.
      </p>
<p>
<a name="rfc.section.6.2.2.2.p.2"></a>
      Only characters that are excluded from or reserved within the URI
      syntax must be escaped when used as data.  However, some URI generators
      go beyond that and escape characters that do not require escaping,
      resulting in URIs that are equivalent to their unescaped counterparts.
      Such URIs can be normalized by unescaping sequences that represent
      the unreserved characters, as described in Section 2.3.
      </p>
<h3>
<a name="rfc.section.6.2.2.3">6.2.2.3</a>&nbsp;
    Path Segment Normalization</h3>
<p>
<a name="rfc.section.6.2.2.3.p.1"></a>
      The complete path segments "." and ".." have a special meaning within
      hierarchical URI schemes.  As such, they should not appear in absolute
      URI paths; if they are found, they can be removed by splitting the URI
      just after the "/" that starts the path, using the left half as
      the base URI and the right as a relative reference, and normalizing
      the URI by merging the two in in accordance with the relative URI
      processing algorithm (Section 5).
      </p>
<h3>
<a name="rfc.section.6.2.3">6.2.3</a>&nbsp;
    Scheme-based Normalization</h3>
<a name="rfc.figure.u.36"></a>
<p>
The syntax and semantics of URIs vary from scheme to scheme, as described
by the defining specification for each scheme.  Software may use
scheme-specific rules, at further processing cost, to reduce the
probability of false negatives.  For example, Web spiders that populate
most large search engines would consider the following two URIs to be
equivalent:
</p>
<pre>   http://example.com/
   http://example.com:80/
</pre>
<p>
This behavior is based on the rules provided by the syntax and semantics
of the "http" URI scheme, which defines an empty port component as being
equivalent to the default TCP port for HTTP (port 80).  In general, a
URI scheme that uses the generic syntax of hostport is defined such that
a URI with an explicit ":port", where the port is the default for the
scheme, is equivalent to one where the port is elided.
</p>
<h3>
<a name="rfc.section.6.2.4">6.2.4</a>&nbsp;
    Protocol-based Normalization</h3>
<a name="rfc.figure.u.37"></a>
<p>
Web spiders, for which substantial effort to reduce the incidence
of false negatives is often cost-effective, are observed to implement
even more aggressive techniques in URI comparison.  For example, if they
observe that a URI such as
</p>
<pre>   http://example.com/data
</pre>
<a name="rfc.figure.u.38"></a>
<p>
redirects to
</p>
<pre>   http://example.com/data/
</pre>
<p>
    they will likely regard the two as equivalent in the future.
    Obviously, this kind of technique is only appropriate in special
    situations.
</p>
<h2>
<a name="rfc.section.6.3">6.3</a>&nbsp;
    Good Practice When Using URIs</h2>
<p>
<a name="rfc.section.6.3.p.1"></a>
  It is in the best interests of everyone to avoid false-negatives in
  comparing URIs, and to only require the minimum amount of
  software processing for such comparisons.  Those who generate and
  make reference to URIs can reduce the cost of processing and the risk
  of false negatives by consistently providing them in a form that is
  reasonably canonical with respect to their scheme.  Specifically:
  <blockquote>
    
<p>Always provide the URI scheme in lower-case characters.</p>
    
<p>Always provide the hostname, if any, in lower-case characters.</p>
    
<p>Only perform %-escaping where it is essential.</p>
    
<p>Always use upper-case A-through-F characters when %-escaping.</p>
    
<p>Use the UTF-8 character-to-octet mapping, whenever possible.</p>
    
<p>Prevent /./ and /../ from appearing in absolute URI paths.</p>
  
</blockquote>
  
</p>
<p>
<a name="rfc.section.6.3.p.2"></a>
  The choices listed above are motivated by observations that a high
  proportion of deployed software already use these techniques in
  practice for the purposes of normalization.
  </p>


<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.7">7</a>&nbsp;
    Security Considerations</h1>
<p>
<a name="rfc.section.7.p.1"></a>
A URI does not in itself pose a security threat.  However, since URIs
are often used to provide a compact set of instructions for access to
network resources, care must be taken to properly interpret the data
within a URI, to prevent that data from causing unintended access, and
to avoid including data that should not be revealed in plain text.
</p>
<h2>
<a name="rfc.section.7.1">7.1</a>&nbsp;
    Reliability and Consistency</h2>
<p>
<a name="rfc.section.7.1.p.1"></a>
There is no guarantee that, having once used a given URI to retrieve
some information, that the same information will be retievable by
that URI in the future. Nor is there any guarantee that the information
retrievable via that URI in the future will be observably similar to 
that retrieved in the past.  The URI syntax does not constrain how a
given scheme or authority apportions its namespace or maintains it
over time.  Such a guarantee can only be obtained from the person(s)
controlling that namespace and the resource in question.  A specific
URI scheme may define additional semantics, such as name persistence,
if those semantics are required of all naming authorities for that scheme.
</p>
<h2>
<a name="rfc.section.7.2">7.2</a>&nbsp;
    Malicious Construction</h2>
<p>
<a name="rfc.section.7.2.p.1"></a>
It is sometimes possible to construct a URI such that an attempt to
perform a seemingly harmless, idempotent operation, such as the
retrieval of a representation associated with a resource, will in fact
cause a possibly damaging remote operation to occur.  The unsafe URI
is typically constructed by specifying a port number other than that
reserved for the network protocol in question.  The client
unwittingly contacts a site that is in fact running a different
protocol.  The content of the URI contains instructions that, when
interpreted according to this other protocol, cause an unexpected
operation.  An example has been the use of a gopher URI to cause an
unintended or impersonating message to be sent via a SMTP server.
</p>
<p>
<a name="rfc.section.7.2.p.2"></a>
Caution should be used when using any URI that specifies a TCP port
number other than the default for the protocol, especially when it is
a number within the reserved space.
</p>
<p>
<a name="rfc.section.7.2.p.3"></a>
Care should be taken when a URI contains escaped delimiters for a
given protocol (for example, CR and LF characters for telnet
protocols) that these are not unescaped before transmission.  This
might violate the protocol, but avoids the potential for such
characters to be used to simulate an extra operation or parameter in
that protocol, which might lead to an unexpected and possibly harmful
remote operation being performed.
</p>
<h2>
<a name="rfc.section.7.3">7.3</a>&nbsp;
    Rare IP Address Formats</h2>
<p>
<a name="rfc.section.7.3.p.1"></a>
Although the URI syntax for IPv4address only allows the common,
dotted-decimal form of IPv4 address literal, many implementations that
process URIs make use of platform-dependent system routines, such as
gethostbyname() and inet_aton(), to translate the string literal to an
actual IP address.  Unfortunately, such system routines often allow and
process a much larger set of formats than those described in Section 3.2.2.
</p>
<p>
<a name="rfc.section.7.3.p.2"></a>
For example, many implementations allow dotted forms of three numbers,
wherein the last part is interpreted as a 16-bit quantity and placed in
the right-most two bytes of the network address (e.g., a Class B network).
Likewise, a dotted form of two numbers means the last part is interpreted
as a 24-bit quantity and placed in the right most three bytes of the network
address (Class A), and a single number (without dots) is interpreted as
a 32-bit quantity and stored directly in the network address.  Adding
further to the confusion, some implementations allow each dotted part
to be interpreted as decimal, octal, or hexadecimal, as specified in
the C language (i.e., a leading 0x or 0X implies hexadecimal; otherwise,
a leading 0 implies octal; otherwise, the number is interpreted as decimal).
</p>
<p>
<a name="rfc.section.7.3.p.3"></a>
These additional IP address formats are not allowed in the URI syntax
due to differences between platform implementations.  However, they
can become a security concern if an application attempts to filter
access to resources based on the IP address in string literal format.
If such filtering is performed, it is recommended that literals
be converted to numeric form and filtered based on the numeric value,
rather than a prefix or suffix of the string form.
</p>
<h2>
<a name="rfc.section.7.4">7.4</a>&nbsp;
    Sensitive Information</h2>
<p>
<a name="rfc.section.7.4.p.1"></a>
It is clearly unwise to use a URI that contains a password which is
intended to be secret. In particular, the use of a password within
the userinfo component of a URI is strongly discouraged except
in those rare cases where the 'password' parameter is intended to be
public.
</p>
<h2>
<a name="rfc.section.7.5">7.5</a>&nbsp;
    Semantic Attacks</h2>
<a name="rfc.figure.u.39"></a>
<p>
Because the userinfo component is rarely used and appears before the
hostname in the authority component, it can be used to construct a URI
that is intended to mislead a human user by appearing to identify one
(trusted) naming authority while actually identifying a different
authority hidden behind the noise.  For example
</p>
<pre>   http://www.example.com&amp;story=breaking_news@10.0.0.1/top_story.htm
</pre>
<p>
might lead a human user to assume that the authority is
'www.example.com', whereas it is actually '10.0.0.1'.  Note that the
misleading userinfo could be much longer than the example above.
</p>
<p>
<a name="rfc.section.7.5.p.2"></a>
A misleading URI, such as the one above, is an attack on the user's
preconceived notions about the meaning of a URI, rather than an attack
on the software itself.  User agents may be able to reduce the impact
of such attacks by visually distinguishing the various components of
the URI when rendered, such as by using a different color or tone to
render userinfo if any is present, though there is no general panacea.
More information on URI-based semantic attacks can be found in 
<a href="#Siedzik" title="Semantic Attacks: What's in a URL?">[Siedzik]</a>.
</p>


<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.8">8</a>&nbsp;
    Acknowledgements</h1>
<p>
<a name="rfc.section.8.p.1"></a>
   This document is derived from RFC 2396 <a href="#RFC2396" title="Uniform Resource Identifiers (URI): Generic Syntax">[RFC2396]</a>,
   RFC 1808 <a href="#RFC1808" title="Relative Uniform Resource Locators">[RFC1808]</a>, and RFC 1738 <a href="#RFC1738" title="Uniform Resource Locators (URL)">[RFC1738]</a>;
   the acknowledgements in those specifications still apply.
   It also incorporates the update (with corrections) for IPv6 literals
   in the host syntax, as defined by Robert M. Hinden, Brian E. Carpenter,
   and Larry Masinter in <a href="#RFC2732" title="Format for Literal IPv6 Addresses in URL's">[RFC2732]</a>.
   In addition, contributions by Reese Anschultz, Tim Bray, Dan Connolly,
   Adam M. Costello, Jason Diamond, Martin Duerst, Henry Holtzman,
   Graham Klyne, Dan Kohn, Bruce Lilly, Michael Mealling, Julian Reschke,
   Tomas Rokicki, Miles Sabin, Ronald Tschalaer,
   Marc Warne, Henry Zongaro, and Zefram are gratefully acknowledged.
</p>

<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.normative_references">Normative References</a>
</h1>
<table border="0">


<tr>
<td nowrap="nowrap" valign="top"><b><a name="ASCII">[ASCII]</a></b></td><td valign="top">American National Standards Institute,&nbsp;"Coded Character Set -- 7-bit American Standard Code for Information Interchange", ANSI&nbsp;X3.4, &nbsp;1986.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC2234">[RFC2234]</a></b></td><td valign="top"><a href="mailto:dcrocker@imc.org" title="Internet Mail Consortium">Crocker, D.H.</a> and <a href="mailto:paulo@turnpike.com" title="Demon Internet Ltd">Overell, P.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2234.txt">Augmented BNF for Syntax Specifications: ABNF</a>", RFC&nbsp;2234, November&nbsp;1997.</td>
</tr>

  
</table>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.non-normative_references">Non-normative References</a>
</h1>
<table border="0">
  

<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC2277">[RFC2277]</a></b></td><td valign="top"><a href="mailto:Harald.T.Alvestrand@uninett.no" title="UNINETT">Alvestrand, H.T.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2277.txt">IETF Policy on Character Sets and Languages</a>", BCP&nbsp;18, RFC&nbsp;2277, January&nbsp;1998.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC1630">[RFC1630]</a></b></td><td valign="top"><a href="mailto:timbl@info.cern.ch" title="CERN, World-Wide Web project">Berners-Lee, T.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc1630.txt">Universal Resource Identifiers in WWW: A Unifying Syntax for the Expression of Names and Addresses of Objects on the Network as used in the World-Wide Web</a>", RFC&nbsp;1630, June&nbsp;1994.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC1738">[RFC1738]</a></b></td><td valign="top"><a href="mailto:timbl@info.cern.ch" title="CERN, World-Wide Web project">Berners-Lee, T.</a>,&nbsp;<a href="mailto:masinter@parc.xerox.com" title="Xerox PARC">Masinter, L.</a> and <a href="mailto:mpm@boombox.micro.umn.edu" title="University of Minnesota, Computer and Information Services">McCahill, M.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc1738.txt">Uniform Resource Locators (URL)</a>", RFC&nbsp;1738, December&nbsp;1994.</td>
</tr>
  

<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC2396">[RFC2396]</a></b></td><td valign="top"><a href="mailto:timbl@w3.org" title="World Wide Web Consortium">Berners-Lee, T.</a>,&nbsp;<a href="mailto:fielding@ics.uci.edu" title="Department of Information and Computer Science">Fielding, R.T.</a> and <a href="mailto:masinter@parc.xerox.com" title="Xerox PARC">Masinter, L.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2396.txt">Uniform Resource Identifiers (URI): Generic Syntax</a>", RFC&nbsp;2396, August&nbsp;1998.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC1123">[RFC1123]</a></b></td><td valign="top"><a href="mailto:Braden@ISI.EDU" title="University of Southern California (USC), Information Sciences Institute">Braden, R.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc1123.txt">Requirements for Internet Hosts - Application and Support</a>", STD&nbsp;3, RFC&nbsp;1123, October&nbsp;1989.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC1808">[RFC1808]</a></b></td><td valign="top"><a href="mailto:fielding@ics.uci.edu" title="University of California Irvine, Department of Information and Computer Science">Fielding, R.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc1808.txt">Relative Uniform Resource Locators</a>", RFC&nbsp;1808, June&nbsp;1995.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC2046">[RFC2046]</a></b></td><td valign="top"><a href="mailto:ned@innosoft.com" title="Innosoft International, Inc.">Freed, N.</a> and <a href="mailto:nsb@nsb.fv.com" title="First Virtual Holdings">Borenstein, N.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2046.txt">Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</a>", RFC&nbsp;2046, November&nbsp;1996.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC2518">[RFC2518]</a></b></td><td valign="top"><a href="mailto:yarong@microsoft.com" title="Microsoft Corporation">Goland, Y.</a>,&nbsp;<a href="mailto:ejw@ics.uci.edu" title="Dept. Of Information and Computer
Science, University of California, Irvine">Whitehead, E.</a>,&nbsp;<a href="mailto:asad@netscape.com" title="Netscape">Faizi, A.</a>,&nbsp;<a href="mailto:srcarter@novell.com" title="Novell">Carter, S.R.</a> and <a href="mailto:dcjensen@novell.com" title="Novell">Jensen, D.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2518.txt">HTTP Extensions for Distributed Authoring -- WEBDAV</a>", RFC&nbsp;2518, February&nbsp;1999.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC0952">[RFC0952]</a></b></td><td valign="top">Harrenstien, K.,&nbsp;Stahl, M. and Feinler, E.,&nbsp;"<a href="http://www.ietf.org/rfc/rfc952.txt">DoD Internet host table specification</a>", RFC&nbsp;952, October&nbsp;1985.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC2373">[RFC2373]</a></b></td><td valign="top"><a href="mailto:hinden@iprg.nokia.com" title="Nokia">Hinden, R.M.</a> and <a href="mailto:deering@cisco.com" title="Cisco Systems, Inc.">Deering, S.E.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2373.txt">IP Version 6 Addressing Architecture</a>", RFC&nbsp;2373, July&nbsp;1998.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC2732">[RFC2732]</a></b></td><td valign="top"><a href="mailto:hinden@iprg.nokia.com" title="Nokia">Hinden, R.M.</a>,&nbsp;<a href="mailto:brian@icair.org" title="IBM, iCAIR">Carpenter, B.E.</a> and <a href="mailto:LMM@acm.org" title="AT&amp;T Labs">Masinter, L.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2732.txt">Format for Literal IPv6 Addresses in URL's</a>", RFC&nbsp;2732, December&nbsp;1999.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC1736">[RFC1736]</a></b></td><td valign="top"><a href="mailto:jak@violet.berkeley.edu" title="Information Systems and Technology">Kunze, J.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc1736.txt">Functional Recommendations for Internet Resource Locators</a>", RFC&nbsp;1736, February&nbsp;1995.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC1737">[RFC1737]</a></b></td><td valign="top"><a href="mailto:masinter@parc.xerox.com" title="Xerox Palo Alto Research Center">Masinter, L.</a> and <a href="mailto:sollins@lcs.mit.edu" title="MIT Laboratory for Computer Science">Sollins, K.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc1737.txt">Functional Requirements for Uniform Resource Names</a>", RFC&nbsp;1737, December&nbsp;1994.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC1034">[RFC1034]</a></b></td><td valign="top">Mockapetris, P.,&nbsp;"<a href="http://www.ietf.org/rfc/rfc1034.txt">Domain names - concepts and facilities</a>", STD&nbsp;13, RFC&nbsp;1034, November&nbsp;1987.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC2110">[RFC2110]</a></b></td><td valign="top"><a href="mailto:jpalme@dsv.su.se" title="Stockholm University and KTH">Palme, J.</a> and <a href="mailto:alexhop@microsoft.com" title="Microsoft Corporation">Hopmann, A.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2110.txt">MIME E-mail Encapsulation of Aggregate Documents, such as HTML (MHTML)</a>", RFC&nbsp;2110, March&nbsp;1997.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="RFC2717">[RFC2717]</a></b></td><td valign="top"><a href="mailto:rpetke@wcom.net" title="UUNET Technologies">Petke, R.</a> and <a href="mailto:iking@microsoft.com" title="Microsoft Corporation">King, I.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2717.txt">Registration Procedures for URL Scheme Names</a>", BCP&nbsp;35, RFC&nbsp;2717, November&nbsp;1999.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="HTML">[HTML]</a></b></td><td valign="top">Raggett, D.,&nbsp;Le Hors, A. and Jacobs, I.,&nbsp;"Hypertext Markup Language (HTML 4.01) Specification", December&nbsp;1999.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="Siedzik">[Siedzik]</a></b></td><td valign="top">Siedzik, R.,&nbsp;"Semantic Attacks: What's in a URL?", April&nbsp;2001.</td>
</tr>


<tr>
<td nowrap="nowrap" valign="top"><b><a name="UTF-8">[UTF-8]</a></b></td><td valign="top"><a href="mailto:fyergeau@alis.com" title="Alis Technologies">Yergeau, F.</a>,&nbsp;"<a href="http://www.ietf.org/rfc/rfc2279.txt">UTF-8, a transformation format of ISO 10646</a>", RFC&nbsp;2279, January&nbsp;1998.</td>
</tr>
  

</table>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<a name="rfc.authors">
<h1>Author's Addresses</h1>
</a>
<table cellspacing="0" cellpadding="0" border="0" width="99%">
<tr>
<td>&nbsp;</td><td>Tim Berners-Lee</td>
</tr>
<tr>
<td>&nbsp;</td><td>World Wide Web Consortium</td>
</tr>
<tr>
<td>&nbsp;</td><td>MIT/LCS, Room NE43-356<br>200 Technology Square<br>
</td>
</tr>
<tr>
<td>&nbsp;</td><td>Cambridge, MA&nbsp;02139</td>
</tr>
<tr>
<td>&nbsp;</td><td>USA</td>
</tr>
<tr>
<td align="right"><b>Phone:&nbsp;</b></td><td><a href="tel:+1-617-253-5702">+1-617-253-5702</a></td>
</tr>
<tr>
<td align="right"><b>Fax:&nbsp;</b></td><td><a href="fax:+1-617-258-5999">+1-617-258-5999</a></td>
</tr>
<tr>
<td align="right"><b>EMail:&nbsp;</b></td><td><a href="mailto:timbl@w3.org">timbl@w3.org</a></td>
</tr>
<tr>
<td align="right"><b>URI:&nbsp;</b></td><td><a href="http://www.w3.org/People/Berners-Lee/">http://www.w3.org/People/Berners-Lee/</a></td>
</tr>
<tr>
<td>&nbsp;</td><td></td>
</tr>
<tr>
<td>&nbsp;</td><td>Roy T. Fielding</td>
</tr>
<tr>
<td>&nbsp;</td><td>Day Software</td>
</tr>
<tr>
<td>&nbsp;</td><td>2 Corporate Plaza, Suite 150<br>
</td>
</tr>
<tr>
<td>&nbsp;</td><td>Newport Beach, CA&nbsp;92660</td>
</tr>
<tr>
<td>&nbsp;</td><td>USA</td>
</tr>
<tr>
<td align="right"><b>Phone:&nbsp;</b></td><td><a href="tel:+1-949-999-2523">+1-949-999-2523</a></td>
</tr>
<tr>
<td align="right"><b>Fax:&nbsp;</b></td><td><a href="fax:+1-949-644-5064">+1-949-644-5064</a></td>
</tr>
<tr>
<td align="right"><b>EMail:&nbsp;</b></td><td><a href="mailto:roy.fielding@day.com">roy.fielding@day.com</a></td>
</tr>
<tr>
<td align="right"><b>URI:&nbsp;</b></td><td><a href="http://www.apache.org/~fielding/">http://www.apache.org/~fielding/</a></td>
</tr>
<tr>
<td>&nbsp;</td><td></td>
</tr>
<tr>
<td>&nbsp;</td><td>Larry Masinter</td>
</tr>
<tr>
<td>&nbsp;</td><td>Adobe Systems Incorporated</td>
</tr>
<tr>
<td>&nbsp;</td><td>345 Park Ave<br>
</td>
</tr>
<tr>
<td>&nbsp;</td><td>San Jose, CA&nbsp;95110</td>
</tr>
<tr>
<td>&nbsp;</td><td>USA</td>
</tr>
<tr>
<td align="right"><b>Phone:&nbsp;</b></td><td><a href="tel:+1-408-536-3024">+1-408-536-3024</a></td>
</tr>
<tr>
<td align="right"><b>EMail:&nbsp;</b></td><td><a href="mailto:LMM@acm.org">LMM@acm.org</a></td>
</tr>
<tr>
<td align="right"><b>URI:&nbsp;</b></td><td><a href="http://larry.masinter.net/">http://larry.masinter.net/</a></td>
</tr>
<tr>
<td>&nbsp;</td><td></td>
</tr>
</table>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.A">A</a>&nbsp;
    Collected BNF for URI</h1>
<a name="rfc.figure.u.40"></a>
<pre>To be filled-in later.
</pre>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.B">B</a>&nbsp;
    Parsing a URI Reference with a Regular Expression</h1>
<p>
<a name="rfc.section.B.p.1"></a>
   As described in Section 4.3, the generic URI syntax is not sufficient
   to disambiguate the components of some forms of URI.  Since the
   "greedy algorithm" described in that section is identical to the
   disambiguation method used by POSIX regular expressions, it is
   natural and commonplace to use a regular expression for parsing the
   potential four components and fragment identifier of a URI reference.
</p>
<p>
<a name="rfc.section.B.p.2"></a>
   The following line is the regular expression for breaking-down a URI
   reference into its components.
</p>
<a name="rfc.figure.u.41"></a>
<pre>   ^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?
    12            3  4          5       6  7        8 9
</pre>
<p>
<a name="rfc.section.B.p.4"></a>
   The numbers in the second line above are only to assist readability;
   they indicate the reference points for each subexpression (i.e., each
   paired parenthesis).  We refer to the value matched for subexpression
   &lt;n&gt; as $&lt;n&gt;.  For example, matching the above expression to
</p>
<a name="rfc.figure.u.42"></a>
<pre>   http://www.ics.uci.edu/pub/ietf/uri/#Related
</pre>
<p>
<a name="rfc.section.B.p.6"></a>
   results in the following subexpression matches:
</p>
<a name="rfc.figure.u.43"></a>
<pre>   $1 = http:
   $2 = http
   $3 = //www.ics.uci.edu
   $4 = www.ics.uci.edu
   $5 = /pub/ietf/uri/
   $6 = &lt;undefined&gt;
   $7 = &lt;undefined&gt;
   $8 = #Related
   $9 = Related
</pre>
<p>
<a name="rfc.section.B.p.8"></a>
   where &lt;undefined&gt; indicates that the component is not present, as is
   the case for the query component in the above example.  Therefore, we
   can determine the value of the four components and fragment as
</p>
<a name="rfc.figure.u.44"></a>
<pre>   scheme    = $2
   authority = $4
   path      = $5
   query     = $7
   fragment  = $9
</pre>
<p>
<a name="rfc.section.B.p.10"></a>
   and, going in the opposite direction, we can recreate a URI reference
   from its components using the algorithm of Section 5.2.
</p>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.C">C</a>&nbsp;
    Examples of Resolving Relative URI References</h1>
<p>
<a name="rfc.section.C.p.1"></a>
   Within an object with a well-defined base URI of
</p>
<a name="rfc.figure.u.45"></a>
<pre>   http://a/b/c/d;p?q
</pre>
<p>
<a name="rfc.section.C.p.3"></a>
   the relative URI would be resolved as follows:
</p>
<h2>
<a name="rfc.section.C.1">C.1</a>&nbsp;
    Normal Examples</h2>
<a name="rfc.figure.u.46"></a>
<pre>   g:h           =  g:h
   g             =  http://a/b/c/g
   ./g           =  http://a/b/c/g
   g/            =  http://a/b/c/g/
   /g            =  http://a/g
   //g           =  http://g
   ?y            =  http://a/b/c/d;p?y
   g?y           =  http://a/b/c/g?y
   #s            =  (current document)#s
   g#s           =  http://a/b/c/g#s
   g?y#s         =  http://a/b/c/g?y#s
   ;x            =  http://a/b/c/;x
   g;x           =  http://a/b/c/g;x
   g;x?y#s       =  http://a/b/c/g;x?y#s
   .             =  http://a/b/c/
   ./            =  http://a/b/c/
   ..            =  http://a/b/
   ../           =  http://a/b/
   ../g          =  http://a/b/g
   ../..         =  http://a/
   ../../        =  http://a/
   ../../g       =  http://a/g
</pre>
<h2>
<a name="rfc.section.C.2">C.2</a>&nbsp;
    Abnormal Examples</h2>
<p>
<a name="rfc.section.C.2.p.1"></a>
   Although the following abnormal examples are unlikely to occur in
   normal practice, all URI parsers should be capable of resolving them
   consistently.  Each example uses the same base as above.
</p>
<p>
<a name="rfc.section.C.2.p.2"></a>
   An empty reference refers to the start of the current document.
</p>
<a name="rfc.figure.u.47"></a>
<pre>   &lt;&gt;            =  (current document)
</pre>
<p>
<a name="rfc.section.C.2.p.4"></a>
   Parsers must be careful in handling the case where there are more
   relative path ".." segments than there are hierarchical levels in the
   base URI's path.  Note that the ".." syntax cannot be used to change
   the authority component of a URI.
</p>
<a name="rfc.figure.u.48"></a>
<pre>   ../../../g    =  http://a/../g
   ../../../../g =  http://a/../../g
</pre>
<p>
<a name="rfc.section.C.2.p.6"></a>
   In practice, some implementations strip leading relative symbolic
   elements (".", "..") after applying a relative URI calculation, based
   on the theory that compensating for obvious author errors is better
   than allowing the request to fail.  Thus, the above two references
   will be interpreted as "http://a/g" by some implementations.
</p>
<p>
<a name="rfc.section.C.2.p.7"></a>
   Similarly, parsers must avoid treating "." and ".." as special when
   they are not complete components of a relative path.
</p>
<a name="rfc.figure.u.49"></a>
<pre>   /./g          =  http://a/./g
   /../g         =  http://a/../g
   g.            =  http://a/b/c/g.
   .g            =  http://a/b/c/.g
   g..           =  http://a/b/c/g..
   ..g           =  http://a/b/c/..g
</pre>
<p>
<a name="rfc.section.C.2.p.9"></a>
   Less likely are cases where the relative URI uses unnecessary or
   nonsensical forms of the "." and ".." complete path segments.
</p>
<a name="rfc.figure.u.50"></a>
<pre>   ./../g        =  http://a/b/g
   ./g/.         =  http://a/b/c/g/
   g/./h         =  http://a/b/c/g/h
   g/../h        =  http://a/b/c/h
   g;x=1/./y     =  http://a/b/c/g;x=1/y
   g;x=1/../y    =  http://a/b/c/y
</pre>
<p>
<a name="rfc.section.C.2.p.11"></a>
   Some applications fail to separate the reference's query and/or
   fragment components from a relative path before merging it with
   the base path.  This error is rarely noticed, since typical usage
   of a fragment never includes the hierarchy ("/") character, and the
   query component is not normally used within relative references.
</p>
<a name="rfc.figure.u.51"></a>
<pre>   g?y/./x       =  http://a/b/c/g?y/./x
   g?y/../x      =  http://a/b/c/g?y/../x
   g#s/./x       =  http://a/b/c/g#s/./x
   g#s/../x      =  http://a/b/c/g#s/../x
</pre>
<p>
<a name="rfc.section.C.2.p.13"></a>
   Some parsers allow the scheme name to be present in a relative URI if
   it is the same as the base URI scheme.  This is considered to be a
   loophole in prior specifications of partial URI <a href="#RFC1630" title="Universal Resource Identifiers in WWW: A Unifying Syntax for the Expression of Names and Addresses of Objects on the Network as used in the World-Wide Web">[RFC1630]</a>.
   Its use should be avoided, but is allowed for backwards compatibility.
</p>
<a name="rfc.figure.u.52"></a>
<pre>   http:g        =  http:g           ; for validating parsers
                 /  http://a/b/c/g   ; for backwards compatibility
</pre>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.D">D</a>&nbsp;
    Embedding the Base URI in HTML documents</h1>
<p>
<a name="rfc.section.D.p.1"></a>
   It is useful to consider an example of how the base URI of a document
   can be embedded within the document's content.  In this appendix, we
   describe how documents written in the Hypertext Markup Language
   (HTML) <a href="#HTML" title="Hypertext Markup Language (HTML 4.01) Specification">[HTML]</a> can include an embedded base URI.  This appendix
   does not form a part of the URI specification and should not be
   considered as anything more than a descriptive example.
</p>
<p>
<a name="rfc.section.D.p.2"></a>
   HTML defines a special element "BASE" which, when present in the
   "HEAD" portion of a document, signals that the parser should use the
   BASE element's "HREF" attribute as the base URI for resolving any
   relative URI.  The "HREF" attribute must be an absolute URI.  Note
   that, in HTML, element and attribute names are case-insensitive.  For
   example:
</p>
<a name="rfc.figure.u.53"></a>
<pre>   &lt;!doctype html public "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
   &lt;HTML&gt;&lt;HEAD&gt;
   &lt;TITLE&gt;An example HTML document&lt;/TITLE&gt;
   &lt;BASE href="http://www.example.com/Test/a/b/c"&gt;
   &lt;/HEAD&gt;&lt;BODY&gt;
   ... &lt;A href="../x"&gt;a hypertext anchor&lt;/A&gt; ...
   &lt;/BODY&gt;&lt;/HTML&gt;
</pre>
<p>
<a name="rfc.section.D.p.4"></a>
   A parser reading the example document should interpret the given
   relative URI "../x" as representing the absolute URI
</p>
<a name="rfc.figure.u.54"></a>
<pre>   &lt;http://www.example.com/Test/a/x&gt;
</pre>
<p>
<a name="rfc.section.D.p.6"></a>
   regardless of the context in which the example document was obtained.
</p>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.E">E</a>&nbsp;
    Recommendations for Delimiting URI in Context</h1>
<p>
<a name="rfc.section.E.p.1"></a>
   URIs are often transmitted through formats that do not provide a clear
   context for their interpretation.  For example, there are many
   occasions when a URI is included in plain text; examples include text
   sent in electronic mail, USENET news messages, and, most importantly,
   printed on paper.  In such cases, it is important to be able to
   delimit the URI from the rest of the text, and in particular from
   punctuation marks that might be mistaken for part of the URI.
</p>
<p>
<a name="rfc.section.E.p.2"></a>
   In practice, URI are delimited in a variety of ways, but usually
   within double-quotes "http://example.com/", angle brackets
   &lt;http://example.com/&gt;, or just using whitespace
</p>
<a name="rfc.figure.u.55"></a>
<pre>   http://example.com/
</pre>
<p>
<a name="rfc.section.E.p.4"></a>
   These wrappers do not form part of the URI.
</p>
<p>
<a name="rfc.section.E.p.5"></a>
   In the case where a fragment identifier is associated with a URI
   reference, the fragment would be placed within the brackets as well
   (separated from the URI with a "#" character).
</p>
<p>
<a name="rfc.section.E.p.6"></a>
   In some cases, extra whitespace (spaces, linebreaks, tabs, etc.) may
   need to be added to break a long URI across lines. The whitespace
   should be ignored when extracting the URI.
</p>
<p>
<a name="rfc.section.E.p.7"></a>
   No whitespace should be introduced after a hyphen ("-") character.
   Because some typesetters and printers may (erroneously) introduce a
   hyphen at the end of line when breaking a line, the interpreter of a
   URI containing a line break immediately after a hyphen should ignore
   all unescaped whitespace around the line break, and should be aware
   that the hyphen may or may not actually be part of the URI.
</p>
<p>
<a name="rfc.section.E.p.8"></a>
   Using &lt;&gt; angle brackets around each URI is especially recommended as
   a delimiting style for a URI that contains whitespace.
</p>
<p>
<a name="rfc.section.E.p.9"></a>
   The prefix "URL:" (with or without a trailing space) was formerly
   recommended as a way to help distinguish a URI from other bracketed
   designators, though it is not commonly used in practice and is
   no longer recommended.
</p>
<p>
<a name="rfc.section.E.p.10"></a>
   For robustness, software that accepts user-typed URI should attempt
   to recognize and strip both delimiters and embedded whitespace.
</p>
<a name="rfc.figure.u.56"></a>
<p>
For example, the text:
</p>
<pre>   Yes, Jim, I found it under "http://www.w3.org/Addressing/",
   but you can probably pick it up from &lt;ftp://ds.internic.
   net/rfc/&gt;.  Note the warning in &lt;http://www.ics.uci.edu/pub/
   ietf/uri/historical.html#WARNING&gt;.
</pre>
<p>
<a name="rfc.section.E.p.12"></a>
contains the URI references
</p>
<a name="rfc.figure.u.57"></a>
<pre>   http://www.w3.org/Addressing/
   ftp://ds.internic.net/rfc/
   http://www.ics.uci.edu/pub/ietf/uri/historical.html#WARNING
</pre>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.F">F</a>&nbsp;
    Abbreviated URIs</h1>
<p>
<a name="rfc.section.F.p.1"></a>
   The URI syntax was designed for unambiguous reference to network
   resources and extensibility via the URI scheme.  However, as URI
   identification and usage have become commonplace, traditional media
   (television, radio, newspapers, billboards, etc.) have increasingly
   used abbreviated URI references.  That is, a reference consisting of
   only the authority and path portions of the identified resource, such
   as
</p>
<a name="rfc.figure.u.58"></a>
<pre>   www.w3.org/Addressing/
</pre>
<p>
<a name="rfc.section.F.p.3"></a>
   or simply the DNS hostname on its own.  Such references are primarily
   intended for human interpretation rather than machine, with the
   assumption that context-based heuristics are sufficient to complete
   the URI (e.g., most hostnames beginning with "www" are likely to have
   a URI prefix of "http://").  Although there is no standard set of
   heuristics for disambiguating abbreviated URI references, many client
   implementations allow them to be entered by the user and
   heuristically resolved.  It should be noted that such heuristics may
   change over time, particularly when new URI schemes are introduced.
</p>
<p>
<a name="rfc.section.F.p.4"></a>
   Since an abbreviated URI has the same syntax as a relative URI path,
   abbreviated URI references cannot be used in contexts where relative
   URIs are expected.  This limits the use of abbreviated URIs to places
   where there is no defined base URI, such as dialog boxes and off-line
   advertisements.
</p>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.section.G">G</a>&nbsp;
    Summary of Non-editorial Changes</h1>
<h2>
<a name="rfc.section.G.1">G.1</a>&nbsp;
    Additions</h2>
<p>
<a name="rfc.section.G.1.p.1"></a>
IPv6 literals have been added to the list of possible identifiers
for the host portion of a server component, as described by
<a href="#RFC2732" title="Format for Literal IPv6 Addresses in URL's">[RFC2732]</a>, with the addition of "[" and "]" to
the reserved, uric, and uric-no-slash sets.  Square brackets are
now specified as reserved for the authority component, allowed
within the opaque part of an opaque URI, and not allowed in the
hierarchical syntax except for their use as delimiters for an
IPv6reference within host.  In order to make this change without
changing the technical definition of the path, query, and fragment
components, those rules were redefined to directly specify the
characters allowed rather than continuing to be defined in terms
of uric.
</p>
<p>
<a name="rfc.section.G.1.p.2"></a>
Since <a href="#RFC2732" title="Format for Literal IPv6 Addresses in URL's">[RFC2732]</a> defers to <a href="#RFC2373" title="IP Version 6 Addressing Architecture">[RFC2373]</a>
for definition of an IPv6 literal address, which unfortunately has an
incorrect ABNF description of IPv6address, we created a new ABNF rule
for IPv6address that matches the text representations defined by
Section 2.2 of <a href="#RFC2373" title="IP Version 6 Addressing Architecture">[RFC2373]</a>.  Likewise, the definition
of IPv4address has been improved in order to limit each decimal
octet to the range 0-255, and the definition of hostname has been
improved to better specify length limitations and partially-qualified
domain names.
</p>
<p>
<a name="rfc.section.G.1.p.3"></a>
Section 6 on URI normalization and comparison has been completely
rewritten and extended using input from Tim Bray and discussion within
the W3C Technical Architecture Group.
</p>
<h2>
<a name="rfc.section.G.2">G.2</a>&nbsp;
    Modifications from RFC 2396</h2>
<p>
<a name="rfc.section.G.2.p.1"></a>
The ad-hoc BNF syntax has been replaced with the ABNF of
<a href="#RFC2234" title="Augmented BNF for Syntax Specifications: ABNF">[RFC2234]</a>.  This change required all rule names that
formerly included underscore characters to be renamed with a dash instead.
Likewise, absoluteURI and relativeURI have been changed to absolute-URI
and relative-URI, respectively, for consistency.
</p>
<p>
<a name="rfc.section.G.2.p.2"></a>
The ABNF of hier-part and relative-URI (Section 3) has been corrected
to allow a relative URI path to be empty.  This also allows an
absolute-URI to consist of nothing after the "scheme:", as is present
in practice with the "DAV:" namespace <a href="#RFC2518" title="HTTP Extensions for Distributed Authoring -- WEBDAV">[RFC2518]</a> and
the "about:" URI used by many browser implementations.
</p>
<p>
<a name="rfc.section.G.2.p.3"></a>
The ABNF of qualified has been simplified to remove a parsing ambiguity
without changing the allowed syntax.
</p>
<p>
<a name="rfc.section.G.2.p.4"></a>
The resolving relative references algorithm of <a href="#RFC2396" title="Uniform Resource Identifiers (URI): Generic Syntax">[RFC2396]</a>
has been rewritten using pseudocode for this revision to improve clarity
and fix the following issues:
  <ul class="text">
  
<li>
    
<a href="#RFC2396" title="Uniform Resource Identifiers (URI): Generic Syntax">[RFC2396]</a> section 5.2, step 6a, failed to account for
    a base URI with no path.
  </li>
  
<li>
    Restored the behavior of <a href="#RFC1808" title="Relative Uniform Resource Locators">[RFC1808]</a> where, if the
    the reference contains an empty path and a defined query component,
    then the target URI inherits the base URI's path component.
  </li>
  
</ul>

</p>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<h1>
<a name="rfc.copyright">Full Copyright Statement</a>
</h1>
<p>
<a name="rfc.section.1.p.1"></a>    
    Copyright (C) The Internet Society (2003). All Rights Reserved.
  </p>
<p>
<a name="rfc.section.1.p.2"></a>
    This document and translations of it may be copied and furnished to
    others, and derivative works that comment on or otherwise explain it or
    assist in its implementation may be prepared, copied, published and
    distributed, in whole or in part, without restriction of any kind,
    provided that the above copyright notice and this paragraph are included
    on all such copies and derivative works. However, this document itself
    may not be modified in any way, such as by removing the copyright notice
    or references to the Internet Society or other Internet organizations,
    except as needed for the purpose of developing Internet standards in
    which case the procedures for copyrights defined in the Internet
    Standards process must be followed, or as required to translate it into
    languages other than English.
  </p>
<p>
<a name="rfc.section.1.p.3"></a>
    The limited permissions granted above are perpetual and will not be
    revoked by the Internet Society or its successors or assigns.
  </p>
<p>
<a name="rfc.section.1.p.4"></a>
    This document and the information contained herein is provided on an
    "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
    TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT
    NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL
    NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR
    FITNESS FOR A PARTICULAR PURPOSE.
  </p>
<h1>Acknowledgement</h1>
<p>
<a name="rfc.section.2.p.1"></a>
      Funding for the RFC editor function is currently provided by the
      Internet Society.
  </p>
<hr class="noprint">
<table align="right" height="15" width="30" cellspacing="2" cellpadding="0" border="0" class="noprint">
<tr>
<td height="15" width="30" align="center" bgcolor="#990000"><a CLASS="link2" href="#rfc.toc"><b class="link2">&nbsp;TOC&nbsp;</b></a></td>
</tr>
</table>
<a name="rfc.index">
<h1>Index</h1>
</a>
<table>
<tr>
<td><b>A</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;absolute-URI&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.15"><b>3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;absolute-URI-reference&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.79"><b>4</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;abs-path&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.19"><b>3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;alphanum&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.47"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;authority&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.29"><b>3.2</b></a></td>
</tr>
<tr>
<td><b>D</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;dec-octet&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.55"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;delims&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.11"><b>2.4.3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;domainlabel&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.45"><b>3.2.2</b></a></td>
</tr>
<tr>
<td><b>E</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;escaped&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.9"><b>2.4.1</b></a></td>
</tr>
<tr>
<td><b>F</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;fragment&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.81"><b>4.1</b></a></td>
</tr>
<tr>
<td><b>H</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;h4&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.62"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;hier-part&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.17"><b>3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;host&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.38"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;hostname&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.43"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;hostport&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.37"><b>3.2.2</b></a></td>
</tr>
<tr>
<td><b>I</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;IPv4&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.53"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;IPv4address&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.54"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;IPv6&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.58"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;IPv6address&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.60"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;IPv6reference&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.59"><b>3.2.2</b></a></td>
</tr>
<tr>
<td><b>L</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;ls32&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.61"><b>3.2.2</b></a></td>
</tr>
<tr>
<td><b>M</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;mark&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.6"><b>2.3</b></a></td>
</tr>
<tr>
<td><b>N</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;net-path&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.18"><b>3</b></a></td>
</tr>
<tr>
<td><b>O</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;opaque-part&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.23"><b>3</b></a></td>
</tr>
<tr>
<td><b>P</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;path&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.67"><b>3.3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;path-segments&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.68"><b>3.3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;pchar&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.70"><b>3.3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;port&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.39"><b>3.2.2</b></a></td>
</tr>
<tr>
<td><b>S</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;scheme&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.27"><b>3.1</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;segment&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.69"><b>3.3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;server&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.33"><b>3.2.2</b></a></td>
</tr>
<tr>
<td><b>T</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;toplabel&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.46"><b>3.2.2</b></a></td>
</tr>
<tr>
<td><b>U</b></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;unreserved&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.5"><b>2.3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;unwise&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.13"><b>2.4.3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;uric&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.1"><b>2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;uric-no-slash&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.24"><b>3</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;URI grammar&nbsp;
                
              </td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;absolute-URI&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.16"><b>3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;absolute-URI-reference&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.80"><b>4</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;abs-path&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.22"><b>3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;alphanum&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.52"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;authority&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.30"><b>3.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;dec-octet&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.57"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;delims&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.12"><b>2.4.3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;domainlabel&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.50"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;escaped&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.10"><b>2.4.1</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;fragment&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.82"><b>4.1</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;h4&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.66"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;hier-part&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.20"><b>3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;host&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.41"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;hostname&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.48"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;hostport&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.40"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;IPv4address&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.56"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;IPv6address&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.64"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;IPv6reference&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.63"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;ls32&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.65"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;mark&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.8"><b>2.3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;net-path&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.21"><b>3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;opaque-part&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.25"><b>3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;path&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.71"><b>3.3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;path-segments&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.72"><b>3.3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;pchar&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.74"><b>3.3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;port&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.42"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;qualified&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.49"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.76"><b>3.4</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;reg-name&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.32"><b>3.2.1</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;relative-URI&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.84"><b>5</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;rel-path&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.87"><b>5</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;rel-segment&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.88"><b>5</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;reserved&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.4"><b>2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;scheme&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.28"><b>3.1</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;segment&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.73"><b>3.3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.35"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;toplabel&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.51"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;unreserved&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.7"><b>2.3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;unwise&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.14"><b>2.4.3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;uric&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.2"><b>2</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;uric-no-slash&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.26"><b>3</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;URI-reference&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.78"><b>4</b></a></td>
</tr>
<tr>
<td>
                &nbsp;&nbsp;&nbsp;&nbsp;userinfo&nbsp;
                  
                
  &nbsp;<a href="#rfc.iref.36"><b>3.2.2</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;URI-reference&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.77"><b>4</b></a></td>
</tr>
<tr>
<td>
              &nbsp;&nbsp;userinfo&nbsp;
                
              
  &nbsp;<a href="#rfc.iref.34"><b>3.2.2</b></a></td>
</tr>
</table>
</body>
</html>
